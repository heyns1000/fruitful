<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fruitful Innovations - Unified Portal</title>
    <link rel="icon" href="/favicon.ico">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.2/dist/chart.umd.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* Base Styles - Apple inspired cleanliness */
        :root {
            --text-color-light: #1d1d1f;
            --text-color-dark: #f5f5f7;
            --bg-color-light: #ffffff; /* Pure white */
            --bg-color-dark: #1a1a1c;
            --card-bg-light: #ffffff; /* Pure white */
            --card-bg-dark: #2a2a2e;
            --border-color-light: #e8e8ed;
            --border-color-dark: #3a3a3e;
            --primary-color: #0071e3; /* Apple Blue */
            --secondary-color: #30d158; /* Apple Green */
            --tertiary-color: #ff3b30; /* Vibrant Red */
            --muted-text-light: #6e6e73;
            --muted-text-dark: #a0a0a5;

            /* Baobab specific colors (for the embedded dashboard only) */
            --baobab-primary-dark: #1A1A1A; /* Deep Black for Baobab elements */
            --baobab-secondary-dark: #222222;
            --baobab-light-text: #EAEAEA;
            --baobab-gold: #B8860B; /* DarkGoldenrod */
            --baobab-muted-gray: #4A4A4A;
            --baobab-border-gray: #4A4A4A;
            --baobab-slate-light: #f1f5f9; /* slate-100 */
            --baobab-slate-medium: #e2e8f0; /* slate-200 */
            --baobab-slate-dark: #475569; /* slate-600 */
            --baobab-slate-text-dark: #64748b; /* slate-500 for chart labels */
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-color-light);
            color: var(--text-color-light);
            line-height: 1.4;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            margin: 0;
            padding: 0;
            min-height: 100vh;
            display: flex; /* Ensures header and main content behave nicely */
            flex-direction: column;
            transition: background-color 0.3s ease, color 0.3s ease;
            scroll-behavior: smooth; /* Smooth scrolling for anchor links */
            overflow-x: hidden; /* Prevent horizontal scroll for the whole page */
        }

        /* Custom Scrollbar Styling (Apple-like subtle) */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: var(--border-color-light);
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb {
            background: var(--muted-text-light);
            border-radius: 10px;
            transition: background 0.3s ease;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #808085;
        }
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        /* Announcement Bar */
        #announcement-bar {
            background-color: var(--primary-color);
            color: white;
            padding: 10px 20px;
            text-align: center;
            font-size: 0.9rem;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            position: sticky;
            top: 0;
            left: 0;
            right: 0;
            z-index: 70; /* Highest z-index */
            transition: all 0.3s ease-out;
            transform-origin: top;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        #announcement-bar.hidden {
            opacity: 0;
            height: 0;
            overflow: hidden;
            padding-top: 0;
            padding-bottom: 0;
            transform: scaleY(0);
        }
        #announcement-bar a {
            color: white;
            font-weight: 600;
            text-decoration: underline;
            transition: opacity 0.2s ease;
        }
        #announcement-bar a:hover {
            opacity: 0.8;
        }
        #announcement-bar .close-btn {
            background: none;
            border: none;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            position: absolute;
            right: 15px;
            padding: 5px;
            transition: transform 0.2s ease;
        }
        #announcement-bar .close-btn:hover {
            transform: scale(1.1);
        }

        /* Global Header (always visible at the top) */
        header.main-header {
            background-color: var(--bg-color-light);
            border-bottom: 1px solid var(--border-color-light);
            padding: 15px 20px;
            box-shadow: 0 1px 0 rgba(0,0,0,0.05);
            position: sticky;
            top: var(--announcement-bar-height, 0px); /* Dynamic top based on announcement bar */
            z-index: 50; /* Below announcement, above main content sections */
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            box-sizing: border-box; /* Include padding in width */
            transition: top 0.3s ease; /* Smooth transition for sticky header */
        }
        .dark-mode header.main-header {
            background-color: var(--card-bg-dark);
            border-bottom-color: var(--border-color-dark);
            box-shadow: 0 1px 0 rgba(0,0,0,0.2);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
        }

        .logo-group {
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--text-color-light);
            transition: color 0.3s ease;
            flex-shrink: 0;
        }
        .dark-mode .logo-group {
            color: var(--text-color-dark);
        }
        .logo-group .logo-link {
            text-decoration: none;
            color: inherit;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        .logo-fruitful {
            color: var(--primary-color);
            font-size: 1.6rem;
            font-weight: 800;
        }
        .logo-separator {
            color: var(--muted-text-light);
            font-size: 1.4rem;
            font-weight: 600;
        }
        .dark-mode .logo-separator {
            color: var(--muted-text-dark);
        }
        .logo-omnigrid {
            color: var(--text-color-light);
            font-size: 1.4rem;
            font-weight: 600;
        }
        .dark-mode .logo-omnigrid {
            color: var(--text-color-dark);
        }

        /* Pulse Grid Noodle Rope */
        .pulse-grid-noodle-rope {
            display: flex;
            align-items: center;
            height: 2px;
            width: 120px;
            background-color: var(--muted-text-light);
            border-radius: 1px;
            position: relative;
            margin: 0 20px;
            opacity: 0.7;
            flex-shrink: 0;
        }
        @media (max-width: 1023px) { /* Hide on tablet/mobile */
            .pulse-grid-noodle-rope { display: none; }
        }

        .noodle-dot {
            position: absolute;
            width: 8px;
            height: 8px;
            background-color: var(--primary-color);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            top: 50%;
            animation: pulse 3s infinite ease-in-out;
        }
        .noodle-dot.dot-stepdad {
            width: 10px;
            height: 10px;
            background-color: var(--secondary-color);
        }
        @keyframes pulse {
            0% { transform: translate(-50%, -50%) scale(1); opacity: 0.7; }
            50% { transform: translate(-50%, -50%) scale(1.5); opacity: 1; }
            100% { transform: translate(-50%, -50%) scale(1); opacity: 0.7; }
        }

        /* Desktop Nav Actions (Sign Up, etc.) */
        .main-header .nav-actions {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-left: auto; /* Push to the right */
        }
        @media (max-width: 1023px) { /* Hide on tablet/mobile header */
            .main-header .nav-actions {
                display: none;
            }
        }

        /* CTA Buttons (general styling for various buttons) */
        .cta-button {
            display: inline-flex; align-items: center; gap: 6px; padding: 10px 20px;
            background-color: var(--primary-color); color: white; text-decoration: none;
            border-radius: 25px; font-weight: 600; font-size: 0.9rem;
            transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1); line-height: 1.2; flex-shrink: 0;
            min-width: 140px; max-width: 160px; justify-content: center;
        }
        .cta-button:hover { background-color: #0066cc; transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.15); }
        .cta-button.cta-button-secondary {
            background-color: #e8e8ed; color: #424245; box-shadow: none; border: 1px solid #dcdcdc;
        }
        .cta-button.cta-button-secondary:hover {
            background-color: #dcdcdc; color: #1d1d1f; box-shadow: 0 1px 3px rgba(0,0,0,0.05);
        }

        /* Hamburger Menu (visible on mobile/tablet) */
        .hamburger-menu {
            display: none; /* Hidden by default */
            background: none; border: none; font-size: 1.5rem; cursor: pointer;
            color: var(--text-color-light); transition: color 0.3s ease;
        }
        @media (max-width: 1023px) { /* Show on tablet/mobile header */
            .hamburger-menu { display: block; margin-left: auto; /* Push to the right */ }
        }


        /* Main Content Wrapper (the scrollable area for sections) */
        main.main-content-wrapper {
            flex-grow: 1; /* Takes remaining height below header/announcement */
            overflow-y: auto; /* Enables scrolling for page content */
            position: relative; /* For child positioning */
        }

        /* Generic Section Styling for all main content sections */
        section.content-section {
            padding: 8rem 2rem;
            background-color: var(--bg-color-light);
            box-shadow: none;
            border-bottom: 1px solid var(--border-color-light);
            text-align: center;
            /* Initially display the first section, others hidden by default.
               JS will manage 'active' class. */
            display: none;
            animation: fadeIn 0.5s ease-out;
        }
        section.content-section:first-of-type { /* Ensure first content section (Innovate. Connect. Thrive.) is shown by default */
            display: block;
        }
        section.content-section:last-of-type { border-bottom: none; }
        section.content-section.active { display: block; } /* Active view is shown */
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        section.content-section h2, section.content-section h3 {
            color: var(--text-color-light); font-weight: 700; letter-spacing: -0.03em;
            margin-bottom: 2rem; font-size: 2.2rem;
        }
        section.content-section p {
            color: var(--muted-text-light); font-size: 1.1rem; line-height: 1.5;
        }

        /* Specific Content Section Styles (from previous Fruitful portal code) */

        /* Hero Content Section (Original 'Innovate. Connect. Thrive.') */
        #innovate-connect-thrive { /* Now a content-section */
            padding: 4rem 1.5rem; /* Adjusted for consistency */
        }
        #innovate-connect-thrive h2 {
            font-size: 3.5rem; font-weight: 800; letter-spacing: -0.03em;
            color: var(--text-color-light); line-height: 1.1; margin-bottom: 1.5rem;
        }
        #innovate-connect-thrive h2 span { color: var(--primary-color); }
        #innovate-connect-thrive p {
            font-size: 1.2rem; font-weight: 400; color: var(--muted-text-light);
            max-width: 800px; margin: 0 auto 2.5rem; line-height: 1.5;
        }
        #innovate-connect-thrive .cta-group {
            display: flex; flex-wrap: wrap; justify-content: center; align-items: center; gap: 1rem;
        }
        /* Hero CTA Buttons reuse cta-button styles */

        /* Rhythmic Canvas Section (original hero background) */
        #rhythmic-canvas-section {
            position: relative; min-height: 70vh; background-color: var(--bg-color-light);
            overflow: hidden; display: flex; justify-content: center; align-items: center;
        }
        #rhythmic-canvas-section #rhythmicCanvas {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: block;
            z-index: 0; background-color: transparent;
        }
        #rhythmic-canvas-section .hero-canvas-overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle at center, rgba(0, 113, 227, 0.1) 0%, transparent 70%);
            pointer-events: none; z-index: 1; animation: subtlePulse 5s infinite ease-in-out alternate;
        }

        /* New Baobab Terminal Section (Public Facing) */
        #baobab-terminal-access {
            background-color: var(--baobab-primary-dark); color: var(--baobab-light-text);
            padding: 8rem 2rem; text-align: center; border-bottom: 1px solid var(--baobab-border-gray);
        }
        #baobab-terminal-access h2 {
            font-size: 3.5rem; font-weight: 800; letter-spacing: -0.03em;
            color: var(--baobab-gold); line-height: 1.1; margin-bottom: 1.5rem;
        }
        #baobab-terminal-access p {
            font-size: 1.2rem; color: var(--baobab-light-text); max-width: 800px; margin: 0 auto 2.5rem;
        }
        #baobab-terminal-access .terminal-iframe-container {
            width: 100%; max-width: 900px; height: 700px; margin: 3rem auto 0;
            background-color: #0d0d0d; border: 2px solid var(--baobab-gold); border-radius: 8px;
            overflow: hidden; box-shadow: 0 0 20px rgba(184, 134, 11, 0.4); position: relative;
        }
        #baobab-terminal-access .terminal-iframe-container iframe { width: 100%; height: 100%; border: none; display: block; }
        .baobab-terminal-btn {
            background-color: var(--baobab-gold); color: var(--baobab-primary-dark);
            padding: 1rem 2rem; border-radius: 25px; font-weight: 600; font-size: 1.1rem;
            transition: all 0.3s ease; box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            display: inline-flex; align-items: center; gap: 8px; text-decoration: none; margin-top: 2rem;
        }
        .baobab-terminal-btn:hover { background-color: #DAA520; transform: translateY(-3px) scale(1.02); box-shadow: 0 6px 15px rgba(0,0,0,0.3); }
        .baobab-terminal-btn .icon { font-size: 1.3em; }

        /* Feature Cards */
        .feature-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 2rem; }
        .feature-card {
            background-color: var(--bg-color-light); border-radius: 12px; padding: 2rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.08); transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
            border: 1px solid var(--border-color-light);
        }
        .feature-card:hover { transform: translateY(-3px); box-shadow: 0 4px 15px rgba(0,0,0,0.12); }
        .feature-card div:first-child { font-size: 2.5rem; margin-bottom: 1rem; color: var(--primary-color); }
        .feature-card h4 { font-size: 1.2rem; font-weight: 600; color: var(--text-color-light); margin-bottom: 0.5rem; }
        .feature-card p { font-size: 0.95rem; color: var(--muted-text-light); }

        /* Share Signal Section */
        #shareprice h2 { font-size: 1.8rem; font-weight: 600; margin-bottom: 0.5rem; }
        #price { font-size: 3rem; font-weight: 700; color: var(--primary-color); letter-spacing: -0.02em; }
        #timestamp { color: var(--muted-text-light); font-size: 0.85rem; }

        /* Seedwave Growth */
        #seedwave h2 { font-size: 2.2rem; font-weight: 700; margin-bottom: 2rem; color: var(--text-color-light); }
        #seedwave .w-full.max-w-4xl {
            background-color: #fcfcfc; border: 1px solid var(--border-color-light); padding: 1.5rem;
            border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        /* Founder's Note */
        .founders-note-section h2 { font-size: 2.5rem; font-weight: 700; color: var(--text-color-light); }
        .founders-note-section p { font-size: 1.1rem; color: var(--muted-text-light); max-width: 700px; margin-left: auto; margin-right: auto; }
        .founders-note-section p.italic { color: var(--muted-text-light); font-style: italic; }
        .founders-note-section p.font-semibold { color: var(--primary-color); font-weight: 600; margin-top: 2rem; }

        /* Vault Terminal Access */
        #vault-access h3 { font-size: 2.2rem; font-weight: 700; color: var(--text-color-light); margin-bottom: 2.5rem; }
        #vault-access .w-full.h-\[800px\] {
            background-color: #f0f0f0; border: 1px solid #dcdcdc; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.08);
        }
        .terminal-btn {
            background-color: #f0f0f0; color: #424245; padding: 1rem 1.5rem; border-radius: 8px;
            font-weight: 500; transition: all 0.2s ease-in-out; box-shadow: 0 1px 3px rgba(0,0,0,0.05);
            border: 1px solid #dcdcdc; cursor: pointer;
        }
        .terminal-btn:hover { background-color: #e8e8ed; color: #1d1d1f; transform: translateY(-1px); box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .terminal-btn.ring { border-color: var(--primary-color); box-shadow: 0 0 0 2px var(--primary-color); }

        /* Sector Scrolls */
        .sector-scrolls-section h2 { font-size: 2.2rem; font-weight: 700; color: var(--text-color-light); margin-bottom: 2.5rem; }
        .glyph {
            background-color: var(--bg-color-light); color: #424245; padding: 0.8rem 1.2rem;
            border-radius: 8px; font-weight: 500; transition: all 0.2s ease-in-out;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05); border: 1px solid var(--border-color-light);
            text-decoration: none; display: inline-flex; align-items: center; justify-content: center; text-align: center;
        }
        .glyph:hover { background-color: #f0f0f0; color: #1d1d1f; transform: translateY(-1px); box-shadow: 0 2px 5px rgba(0,0,0,0.1); }

        /* Treaty Section */
        #treaty h2 { font-size: 2.2rem; font-weight: 700; color: var(--text-color-light); margin-bottom: 1.5rem; }
        #treaty p { font-size: 1.1rem; color: var(--muted-text-light); max-width: 600px; margin-left: auto; margin-right: auto; margin-bottom: 2rem; }
        #treaty blockquote {
            font-size: 1.5rem; color: var(--text-color-light); font-weight: 600; line-height: 1.4;
            max-width: 700px; margin-left: auto; margin-right: auto;
        }
        #treaty blockquote::before, #treaty blockquote::after {
            content: '“'; font-size: 2.5em; line-height: 0.1; vertical-align: -0.4em;
            color: #dcdcdc; margin-right: 0.1em;
        }
        #treaty blockquote::after { content: '”'; margin-left: 0.05em; }

        /* Signal Packet */
        .signal-packet-section {
            background-color: #1d1d1f; color: #00e393; padding: 4rem 1.5rem;
            border-bottom: 1px solid #333; text-align: center; font-size: 0.75rem;
        }
        .signal-packet-section pre {
            background-color: #0a0a0a; border: 1px solid #333; border-radius: 8px;
            padding: 1.5rem; box-shadow: inset 0 1px 3px rgba(0,0,0,0.3);
            white-space: pre-wrap; word-break: break-all;
        }

        /* VaultMesh */
        #vaultmesh h2 { font-size: 2.2rem; font-weight: 700; color: var(--text-color-light); margin-bottom: 1.5rem; }
        #vaultmesh h2.text-purple-400 { color: var(--primary-color); }
        #vaultmesh h3 { font-size: 1.5rem; font-weight: 600; color: var(--text-color-light); margin-top: 2.5rem; margin-bottom: 1rem; }
        #vaultmesh p { font-size: 1.05rem; color: var(--muted-text-light); line-height: 1.5; }
        #vaultmesh ul { list-style-type: disc; margin-left: 1.5rem; color: var(--muted-text-light); }
        #vaultmesh ul li { font-size: 1.05rem; margin-bottom: 0.5rem; }
        #vaultmesh ul.list-decimal { list-style-type: decimal; }
        #vaultmesh code {
            background-color: #e8e8ed; padding: 0.2em 0.4em; border-radius: 4px;
            font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace; color: var(--text-color-light);
        }

        /* About Section */
        #about h3 { font-size: 2.2rem; font-weight: 700; color: var(--text-color-light); margin-bottom: 1.5rem; }
        #about p { font-size: 1.1rem; color: var(--muted-text-light); max-width: 800px; margin-left: auto; margin-right: auto; }

        /* Call to Action Section */
        #cta h3 { font-size: 2.5rem; font-weight: 700; color: var(--text-color-light); margin-bottom: 1.5rem; }
        #cta p { font-size: 1.2rem; color: var(--muted-text-light); max-width: 700px; margin-left: auto; margin-right: auto; margin-bottom: 2.5rem; }

        /* Footer */
        footer {
            border-top: 1px solid var(--border-color-light); text-align: center;
            color: var(--muted-text-light); padding: 2rem; font-size: 0.85rem;
        }
        footer a { color: var(--muted-text-light); text-decoration: none; transition: color 0.2s ease; }
        footer a:hover { color: var(--text-color-light); }

        /* Admin Portal Section (main section on the page) */
        #admin-portal-section {
            background-color: var(--bg-color-light);
            padding: 0; /* Remove section padding as internal elements will have it */
            border-bottom: 1px solid var(--border-color-light);
            display: flex; /* Always flex container */
            height: auto; /* Height dictated by content */
            min-height: calc(100vh - var(--announcement-bar-height, 0px) - var(--header-height, 0px) - 2rem); /* Fill remaining height roughly */
            flex-direction: row; /* Desktop: sidebar left, content right */
            position: relative; /* For z-indexing of mobile sidebar */
        }

        /* Admin Portal Sidebar */
        #admin-portal-sidebar {
            width: 290px;
            flex-shrink: 0;
            background-color: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-right: 1px solid var(--border-color-light);
            box-shadow: 2px 0 5px rgba(0,0,0,0.05);
            display: flex;
            flex-direction: column;
            padding-bottom: 1rem;
            overflow-y: auto;
            z-index: 20;
            position: sticky; /* Sticky within the admin section */
            top: var(--announcement-bar-height, 0px); /* Adjust to stick below global header/announcement */
            height: calc(100vh - var(--announcement-bar-height, 0px) - var(--header-height, 0px)); /* Fill remaining viewport height */
        }
        /* Style for internal sidebar components - reused from original sidebar styles */
        #admin-portal-sidebar .logo-container { height: 60px; display: flex; align-items: center; justify-content: center; }
        #admin-portal-sidebar .logo-full { height: 40px; width: auto; object-fit: contain; }
        #admin-portal-sidebar .logo-collapsed { height: 40px; width: 40px; object-fit: contain; }
        #admin-portal-sidebar h2 {
            color: var(--muted-text-light); font-size: 0.8rem; text-transform: uppercase;
            letter-spacing: 0.05em; padding-left: 1rem; padding-top: 1rem; margin-bottom: 0.5rem;
        }
        #admin-portal-sidebar .menu-item {
            display: flex; align-items: center; gap: 0.8rem; padding: 0.6rem 1rem;
            border-radius: 6px; font-weight: 500; color: #424245;
            transition: all 0.2s ease-in-out; position: relative; cursor: pointer;
        }
        #admin-portal-sidebar .menu-item:hover { background-color: rgba(0, 0, 0, 0.03); color: var(--primary-color); }
        #admin-portal-sidebar .menu-item.active {
            background-color: rgba(0, 113, 227, 0.1); color: var(--primary-color); font-weight: 600;
        }
        #admin-portal-sidebar .menu-item.active .menu-item-icon-inactive { color: var(--primary-color); }
        #admin-portal-sidebar .menu-item-icon-inactive { color: var(--muted-text-light); }
        #admin-portal-sidebar .menu-dropdown-item {
            display: flex; align-items: center; gap: 0.8rem; padding: 0.5rem 1rem;
            border-radius: 4px; font-size: 0.85rem; color: #424245;
            background-color: transparent; transition: all 0.2s ease-in-out;
        }
        #admin-portal-sidebar .menu-dropdown-item:hover { background-color: rgba(0, 0, 0, 0.02); color: var(--primary-color); }
        #admin-portal-sidebar .menu-dropdown-item.active {
            background-color: rgba(0, 113, 227, 0.05); color: var(--primary-color); font-weight: 500;
        }
        #admin-portal-sidebar .menu-dropdown-badge {
            background-color: var(--border-color-light); color: var(--muted-text-light);
            font-size: 0.7rem; padding: 0.2em 0.5em; border-radius: 10px;
        }
        /* Submenu arrow specific styling */
        #admin-portal-sidebar .submenu-arrow { color: var(--muted-text-light); transition: transform 0.2s ease, color 0.2s ease; }
        #admin-portal-sidebar .menu-item.active .submenu-arrow, #admin-portal-sidebar .submenu-content.open + .menu-item .submenu-arrow {
            color: var(--primary-color); transform: rotate(180deg);
        }
        /* Submenu content transition */
        #admin-portal-sidebar .submenu-content {
            transition: max-height 0.3s ease-out, opacity 0.3s ease-out;
            overflow: hidden; max-height: 0; opacity: 0; padding-left: 1.5rem;
        }
        #admin-portal-sidebar .submenu-content.open { max-height: 500px; opacity: 1; }


        /* Admin Portal Main Content Area (right section of admin portal) */
        #admin-portal-main-content-area {
            flex-grow: 1;
            padding: 0 2rem; /* Internal padding for views */
            overflow-y: auto; /* Enable scrolling for the content within admin portal */
            background-color: var(--baobab-slate-light); /* Background for content area */
        }

        /* Styles for individual views within the Admin Portal */
        .admin-view-panel {
            display: none; /* All admin views hidden by default, shown by JS */
            padding-top: 2rem; /* Top padding for each internal view */
            padding-bottom: 2rem; /* Bottom padding for each internal view */
            animation: fadeIn 0.5s ease-out;
        }
        .admin-view-panel.active { display: block; }


        /* Admin Header Bar (internal to admin-portal-section) */
        #admin-portal-section .admin-header {
            background: #f5f5f7; color: var(--text-color-light); padding: 1.5rem 2rem;
            box-shadow: 0 1px 0 rgba(0,0,0,0.05); border-bottom: 1px solid var(--border-color-light);
            border-radius: 12px 12px 0 0; /* Rounded top corners */
            margin-bottom: 1.5rem;
        }
        #admin-portal-section .admin-header h1 { font-size: 1.8rem; } /* Slightly smaller for internal header */

        /* Admin Top Navigation (tabs within admin portal) */
        .admin-portal-container .top-nav {
            background-color: #f5f5f7; border-bottom: 1px solid var(--border-color-light);
            box-shadow: none; border-radius: 0; margin-bottom: 2rem;
            border-top-left-radius: 12px; border-top-right-radius: 12px; padding: 0.75rem 1.25rem;
            display: flex; flex-wrap: wrap; justify-content: flex-start; /* Align tabs to start */
        }
        .admin-portal-container .top-nav a {
            color: #424245; position: relative; padding: 0.5rem 0.8rem;
            border-radius: 6px; font-weight: 500; transition: all 0.2s ease-in-out;
            white-space: nowrap; /* Prevent tabs from breaking */
        }
        .admin-portal-container .top-nav a:hover { color: #1d1d1f; background-color: rgba(0, 0, 0, 0.03); transform: none; }
        .admin-portal-container .top-nav a::after {
            content: ''; position: absolute; left: 50%; transform: translateX(-50%);
            bottom: 0; width: 0; height: 2px; background: var(--primary-color); transition: width 0.3s ease;
        }
        .admin-portal-container .top-nav a.active { color: var(--primary-color); background-color: rgba(0, 113, 227, 0.05); }
        .admin-portal-container .top-nav a.active::after { width: calc(100% - 1.6rem); }

        /* General Admin Card/Content Styles */
        .admin-portal-container .admin-main-content .content-block { /* Generic block for cards, inputs, tables */
            background-color: var(--card-bg-light); border-radius: 12px; padding: 2rem;
            box-shadow: 0 6px 20px rgba(0,0,0,0.1); border: 1px solid var(--border-color-light);
            margin-bottom: 1.5rem;
        }
        .admin-portal-container .admin-main-content h2, .admin-portal-container .admin-main-content h3, .admin-portal-container .admin-main-content label {
            color: var(--text-color-light);
        }
        .admin-portal-container .admin-main-content p, .admin-portal-container .admin-table tbody td {
            color: #424245;
        }
        .admin-portal-container .admin-main-content #adminStatus { color: var(--muted-text-light); }
        .admin-portal-container .snapshot-box {
            background: #fcfcfc; border: 1px solid var(--border-color-light); color: var(--text-color-light);
            box-shadow: inset 0 0 5px rgba(0,0,0,0.05); padding: 1.5rem; border-radius: 8px; margin-top: 1.5rem;
        }
        .admin-portal-container .snapshot-box h4 { color: var(--primary-color); }
        .admin-portal-container .snapshot-box ul li { color: #424245; }
        .admin-portal-container .bg-gray-700 { background-color: #fcfcfc; color: var(--text-color-light); }

        /* FAA.ZONE INDEX Table Styling (Admin) */
        .admin-portal-container .admin-table { box-shadow: 0 2px 8px rgba(0,0,0,0.08); border-radius: 12px; overflow: hidden; }
        .admin-portal-container .admin-table thead { background-color: #f5f5f7; color: #424245; }
        .admin-portal-container .admin-table th, .admin-portal-container .admin-table td {
            border-bottom: 1px solid var(--border-color-light); border-right: 1px solid var(--border-color-light);
            padding: 0.8rem 1rem; text-align: left;
        }
        .admin-portal-container .admin-table th:last-child, .admin-portal-container .admin-table td:last-child { border-right: none; }
        .admin-portal-container .admin-table tbody tr { background-color: var(--bg-color-light); }
        .admin-portal-container .admin-table tbody tr:hover { background-color: #f0f0f5; }
        .admin-portal-container .admin-table tbody tr:nth-child(odd) { background-color: #fcfcfc; }
        .admin-portal-container .admin-table button.text-blue-400 { color: var(--primary-color); }
        .admin-portal-container .admin-table button.text-blue-400:hover { background-color: rgba(0, 113, 227, 0.1); }
        .admin-portal-container .admin-table button.text-green-400 { color: var(--secondary-color); }
        .admin-portal-container .admin-table button.text-green-400:hover { background-color: rgba(48, 209, 88, 0.1); }

        /* Admin Metrics Grid */
        .admin-portal-container .metrics-grid a {
            background-color: var(--bg-color-light); color: var(--text-color-light);
            box-shadow: 0 2px 8px rgba(0,0,0,0.08); border: 1px solid var(--border-color-light);
            padding: 1.5rem; border-radius: 12px; text-align: center; display: block;
            transition: all 0.2s ease-in-out;
        }
        .admin-portal-container .metrics-grid a:hover {
            background-color: #f0f0f5; transform: translateY(-1px); box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        .admin-portal-container .metrics-grid h3 { color: var(--muted-text-light); font-size: 0.95rem; font-weight: 600; margin-bottom: 0.5rem; }
        .admin-portal-container .metrics-grid p { color: var(--primary-color); font-size: 2rem; font-weight: 700; letter-spacing: -0.02em; }

        /* Baobab Global Dashboard specific styles (from baobab_spa_dashboard.html) */
        #admin-global-dashboard { /* This section is a specific admin-view-panel */
            background-color: var(--baobab-slate-light);
            color: var(--text-color-light);
        }
        #admin-global-dashboard .dashboard-header-h2 {
             color: var(--text-color-light); font-size: 2.2rem; font-weight: 800; letter-spacing: -0.02em;
        }
        #admin-global-dashboard .dashboard-header-p {
             color: var(--muted-text-light);
        }
        #admin-global-dashboard .dashboard-metric-card {
            background-color: var(--bg-color-light); padding: 1.5rem; border-radius: 8px;
            box-shadow: 0 1px 5px rgba(0,0,0,0.05); border: 1px solid var(--border-color-light);
            color: var(--text-color-light);
        }
        #admin-global-dashboard .dashboard-metric-card h3 {
            font-weight: 600; color: var(--muted-text-light); font-size: 0.95rem; margin-bottom: 0.25rem;
        }
        #admin-global-dashboard .dashboard-metric-card p {
            font-size: 2.5rem; font-weight: 700; color: var(--primary-color);
        }
        #admin-global-dashboard .tech-pillar {
            background-color: var(--bg-color-light); border-radius: 12px; padding: 1.5rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05); transition: transform 0.2s ease, box-shadow 0.2s ease;
            cursor: pointer; border-top-width: 4px; border-top-color: var(--border-color-light);
        }
        #admin-global-dashboard .tech-pillar:hover { transform: translateY(-3px); box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
        #admin-global-dashboard .tech-pillar h3 { color: var(--text-color-light); font-size: 1.25rem; font-weight: 700; }
        #admin-global-dashboard .tech-pillar p { color: var(--muted-text-light); font-size: 0.875rem; margin-top: 0.25rem; }
        #admin-global-dashboard #tech-stack-content {
            background-color: #fcfcfc; border: 1px solid var(--border-color-light); border-radius: 12px;
            padding: 2rem; box-shadow: 0 2px 8px rgba(0,0,0,0.05); color: var(--text-color-light);
        }
        #admin-global-dashboard #tech-stack-content h3 { color: var(--primary-color); }
        #admin-global-dashboard #tech-stack-content p, #admin-global-dashboard #tech-stack-content ul { color: var(--muted-text-light); }
        #admin-global-dashboard #tech-stack-content ul li { font-size: 0.95rem; }
        #admin-global-dashboard .explorer-brand-card {
            background-color: var(--bg-color-light); border: 1px solid var(--border-color-light);
            border-radius: 8px; padding: 1rem; box-shadow: 0 1px 4px rgba(0,0,0,0.05);
            color: var(--text-color-light);
        }
        #admin-global-dashboard .explorer-brand-card h4 { color: var(--primary-color); font-weight: 600; font-size: 1rem; }
        #admin-global-dashboard .explorer-brand-card p { font-size: 0.875rem; color: var(--muted-text-light); }
        #admin-global-dashboard .progress-bar-container {
            background-color: var(--border-color-light); border-radius: 10px; height: 30px; overflow: hidden;
        }
        #admin-global-dashboard .progress-bar {
            background-color: var(--primary-color); height: 100%; border-radius: 10px;
            color: white; font-weight: 600; display: flex; align-items: center; justify-content: center;
            transition: width 0.5s ease-out;
        }
        #admin-global-dashboard .sovereign-scrolls-info {
            background-color: #fcfcfc; border: 1px solid var(--border-color-light); border-radius: 12px;
            padding: 1.5rem; box-shadow: 0 2px 8px rgba(0,0,0,0.05); color: var(--text-color-light);
        }
        #admin-global-dashboard .sovereign-scrolls-info h3 { color: var(--text-color-light); }
        #admin-global-dashboard .sovereign-scrolls-info p, #admin-global-dashboard .sovereign-scrolls-info ul { color: var(--muted-text-light); }
        #admin-global-dashboard .ledger-metric-card {
            background-color: var(--bg-color-light); border: 1px solid var(--border-color-light);
            border-radius: 12px; padding: 1rem; box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            text-align: center; color: var(--text-color-light);
        }
        #admin-global-dashboard .ledger-metric-card h3 {
            color: var(--muted-text-light); font-size: 0.95rem; font-weight: 600; margin-bottom: 0.25rem;
        }
        #admin-global-dashboard .ledger-metric-card p {
            color: var(--primary-color); font-size: 2rem; font-weight: 700;
        }
        /* Chart-specific styling for consistency across all charts within global dashboard */
        #admin-global-dashboard .chart-options-default {
            background-color: var(--bg-color-light); border-radius: 10px; padding: 1rem;
            box-shadow: 0 1px 5px rgba(0,0,0,0.05);
        }
        #admin-global-dashboard .chart-options-default canvas { background-color: transparent; }
        #admin-global-dashboard .chart-options-default .chart-container { height: 350px; }


        /* Responsive adjustments for overall layout and content */
        @media (max-width: 1023px) { /* Tablet and below */
            #admin-portal-section { /* The main admin section */
                flex-direction: column; /* Stack sidebar and content */
                height: auto; /* Height dictated by content */
                min-height: auto; /* No fixed minimum height */
            }
            #admin-portal-sidebar {
                width: 100%; /* Sidebar takes full width */
                height: auto; /* Adjust height based on content */
                max-height: 50vh; /* Limit height to prevent excessive scrolling within sidebar */
                border-right: none; /* No vertical border when stacked */
                border-bottom: 1px solid var(--border-color-light); /* Bottom border when stacked */
                overflow-y: auto; /* Still scrollable */
                position: relative; /* Not sticky, scrolls with section */
                top: 0 !important; /* Ensure it's not stuck by global header adjustment */
            }
            #admin-portal-main-content-area {
                padding: 1rem 0; /* Less padding for inner content area */
            }
            .main-header .hamburger-menu { display: block; } /* Show hamburger on mobile/tablet */
            .main-header .nav-actions { display: none; } /* Hide desktop nav actions */
        }

        @media (max-width: 768px) { /* Smaller mobile specific adjustments */
            header.main-header {
                padding: 10px 15px; /* Smaller header padding */
            }
            .logo-fruitful { font-size: 1.4rem; } /* Slightly larger for main logo */
            .logo-omnigrid { font-size: 1.2rem; }
            .pulse-grid-noodle-rope { display: none; }
            .hamburger-menu { font-size: 1.3rem; }

            /* General section adjustments for mobile */
            section.content-section { padding: 3rem 1rem; }
            section.content-section h2, section.content-section h3 { font-size: 1.8rem; margin-bottom: 1rem; }
            section.content-section p { font-size: 0.95rem; }

            /* Hero Content Section */
            #innovate-connect-thrive h2 { font-size: 2rem; }
            #innovate-connect-thrive p { font-size: 0.9rem; }
            #innovate-connect-thrive .cta-group { flex-direction: column; gap: 0.75rem; }
            #innovate-connect-thrive .hero-cta-button { width: 100%; max-width: 250px; }

            /* Baobab Terminal Section */
            #baobab-terminal-access h2 { font-size: 2rem; }
            #baobab-terminal-access p { font-size: 1rem; }
            #baobab-terminal-access .terminal-iframe-container { height: 350px; }
            .baobab-terminal-btn { padding: 0.7rem 1.2rem; font-size: 0.9rem; }

            /* Feature Cards */
            .feature-grid { grid-template-columns: 1fr; }

            /* Share Price */
            #shareprice h2 { font-size: 1.3rem; }
            #price { font-size: 2rem; }

            /* Seedwave, Founder's Note, Vault Access, Sector Scrolls, Treaty, Signal Packet, VaultMesh, About, CTA */
            #seedwave h2, .founders-note-section h2, #vault-access h3, .sector-scrolls-section h2, #treaty h2, #vaultmesh h2, #vaultmesh h3, #about h3, #cta h3 {
                font-size: 1.8rem;
            }
            #vault-access .w-full.h-\[800px\] { height: 400px; } /* Smaller iframe on very small screens */
            .terminal-btn { padding: 0.6rem 0.8rem; font-size: 0.8rem; }
            #treaty blockquote { font-size: 1.1rem; }

            /* Admin Portal internal adjustments for small screens */
            #admin-portal-sidebar .menu-item { padding: 0.5rem 0.8rem; font-size: 0.9rem; }
            #admin-portal-sidebar h2 { padding-left: 0.8rem; }
            .admin-portal-container .top-nav { padding: 0.5rem 0.8rem; gap: 0.5rem; justify-content: flex-start; }
            .admin-portal-container .top-nav a { padding: 0.4rem 0.6rem; font-size: 0.8rem; }
            .admin-portal-container .admin-header h1 { font-size: 1.5rem; }
            .admin-portal-container .admin-main-content .content-block { padding: 1.5rem; }
            .admin-portal-container .admin-table th, .admin-portal-container .admin-table td { padding: 0.6rem 0.8rem; font-size: 0.85rem; }
            #admin-global-dashboard .dashboard-metric-card p { font-size: 2rem; }
            #admin-global-dashboard .tech-pillar { padding: 1rem; }
            #admin-global-dashboard .tech-pillar h3 { font-size: 1rem; }
            #admin-global-dashboard .tech-pillar p { font-size: 0.75rem; }
            #admin-global-dashboard #tech-stack-content { padding: 1.5rem; }
            #admin-global-dashboard #tech-stack-content ul li { font-size: 0.85rem; }
        }
    </style>
</head>
<body>

    <div id="announcement-bar">
        <span>⚡️ NEW: Baobab Security Network™ Global Dashboard is Live!</span>
        <a href="#admin-portal-section" data-view-id="admin-global-dashboard" class="announcement-link">Explore the Insights Now</a>
        <button class="close-btn" aria-label="Close announcement">
            <i class="fas fa-times"></i>
        </button>
    </div>

    <div class="app-container">

        <header class="main-header">
            <div class="container header-content">
                <div class="logo-group">
                    <a href="#innovate-connect-thrive" class="logo-link">
                        <span class="logo-fruitful">Fruitful™</span>
                    </a>
                    <span class="logo-separator">|</span>
                    <span class="logo-omnigrid">OmniGrid™</span>
                    <button class="hamburger-menu" aria-label="Toggle navigation" id="hamburger-btn">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
                <div class="pulse-grid-noodle-rope">
                    <span class="noodle-dot dot-1"></span>
                    <span class="noodle-dot dot-2"></span>
                    <span class="noodle-dot dot-3"></span>
                    <span class="noodle-dot dot-stepdad"></span>
                    <span class="noodle-dot dot-4"></span>
                    <span class="noodle-dot dot-5"></span>
                </div>
                <nav class="nav-actions">
                    <a href="#cta" class="cta-button">Sign Up</a>
                </nav>
            </div>
        </header>

        <main class="main-content-wrapper">

            <section id="innovate-connect-thrive" class="content-section active"> <h2 class="text-5xl md:text-6xl font-extrabold mb-6 leading-tight">
                    Innovate. Connect. <span class="text-blue-600">Thrive.</span>
                </h2>
                <p class="max-w-3xl mx-auto text-xl leading-relaxed">
                    Discover a new era of collaboration and sustainable growth with Fruitful's cutting-edge platform.
                </p>
                <div class="cta-group">
                    <a href="https://faa.zone/omnigrid.html" class="hero-cta-button" target="_blank">
                        🕸️ Explore Ecosystem
                    </a>
                    <a href="https://baobab.faa.zone" class="hero-cta-button cta-button-secondary" target="_blank">
                        🌳 Baobab Network
                    </a>
                    <a href="https://fruitfulcratedance.com/" class="hero-cta-button cta-button-secondary" target="_blank">
                        📦 Fruitful™ Crate Dance
                    </a>
                    <a href="https://portal.faa.zone/payroll.html" class="hero-cta-button cta-button-secondary" target="_blank">
                        💰 Fruitful™ Payroll
                    </a>
                    <a href="admin-login.html" class="hero-cta-button cta-button-secondary" target="_blank">
                        ⚙️ Admin Login
                    </a>
                    <a href="https://faa.zone/contact-us.html" class="hero-cta-button cta-button-secondary" target="_blank">
                        ✉️ Contact Us
                    </a>
                </div>
            </section>

            <section id="rhythmic-canvas-section" class="content-section">
                <canvas id="rhythmicCanvas"></canvas>
                <div class="hero-canvas-overlay"></div>
            </section>

            <section id="baobab-terminal-access" class="content-section">
                <h2>🌳 Baobab Security Network™ Terminal</h2>
                <p>Access the unified global intelligence and operations hub powered by the Baobab Security Network. Experience real-time threat intelligence, strategic resource monitoring, and ethical governance protocols.</p>
                <div class="terminal-iframe-container">
                    <iframe id="baobab-terminal-frame" src="baobab_terminal.html" title="Baobab Security Terminal"></iframe>
                </div>
                <a href="baobab_terminal.html" class="baobab-terminal-btn" target="_blank">
                    <i class="fas fa-external-link-alt icon"></i> Launch Full Terminal
                </a>
            </section>

            <section id="features" class="content-section">
                <div class="max-w-6xl mx-auto">
                    <h3 class="text-4xl font-bold text-center mb-16">
                        Unlock Your Potential with Our Core Features
                    </h3>
                    <div class="feature-grid">
                        <div class="feature-card">
                            <div>💡</div>
                            <h4>AI-Powered Insights</h4>
                            <p>
                                Leverage advanced AI to gain deep insights, optimize operations, and make smarter decisions.
                            </p>
                        </div>
                        <div class="feature-card">
                            <div>🤝</div>
                            <h4>Global Collaboration</h4>
                            <p>
                                Connect with thousands of independent brands and partners worldwide, fostering a network of mutual growth.
                            </p>
                        </div>
                        <div class="feature-card">
                            <div>🌱</div>
                            <h4>Sustainable Solutions</h4>
                            <p>
                                Champion eco-friendly practices and contribute to a healthier planet through our curated marketplace.
                            </p>
                        </div>
                        <div class="feature-card">
                            <div>🔒</div>
                            <h4>Secure VaultMesh™</h4>
                            <p>
                                Protect your data and transactions with our state-of-the-art blockchain-inspired security protocols.
                            </p>
                        </div>
                        <div class="feature-card">
                            <div>📈</div>
                            <h4>Real-time Analytics</h4>
                            <p>
                                Monitor your progress and impact with intuitive dashboards and real-time performance metrics.
                            </p>
                        </div>
                        <div class="feature-card">
                            <div>🌐</div>
                            <h4>OmniScroll Integration</h4>
                            <p>
                                Seamlessly integrate with our OmniScroll ledger for transparent and efficient record-keeping.
                            </p>
                        </div>
                    </div>
                </div>
            </section>

            <section id="shareprice" class="content-section">
                <h2 class="text-3xl font-semibold mb-2">FAA™ Share Signal</h2>
                <div id="price" class="text-5xl font-bold">$88.88</div>
                <div class="text-sm text-gray-400 mt-1">Last updated: <span id="timestamp">Live</span></div>
            </section>

            <section id="seedwave" class="content-section">
                <h2 class="text-4xl font-bold mb-8">🌱 Seedwave Brand Growth 🌱</h2>
                <div class="w-full max-w-4xl mx-auto p-6 rounded-xl shadow-lg">
                    <canvas id="brandChart"></canvas>
                </div>
            </section>

            <section id="founders-glyph-section" class="content-section founders-note-section">
                <h2 class="text-4xl font-bold mb-8">🧬 Founder's Glyph™</h2>
                <p class="max-w-3xl mx-auto text-xl leading-relaxed">
                    FAA™ wasn’t built like a typical startup. It emerged — out of silence, out of signal, out of glyphs and patterns that refused to be ignored.
                    What you're seeing isn't a site. It’s a vault interface. A codebase of culture. A trust-machine powered by real human intelligence.
                </p>
                <p class="mt-6 max-w-2xl mx-auto italic">
                    Where others scale with speed, we scale with meaning. Every brand here agreed to something deeper than growth — they signed a Treaty.
                    That’s why this isn’t eCommerce. It’s TreatyCommerce™.
                </p>
                <p class="mt-6 font-semibold">— Written from the edge of code & culture 🌍 FAA.zone™ Founder Glyph Activated™</p>
            </section>

            <section id="vault-access" class="content-section">
                <h3 class="text-4xl font-bold text-center mb-10">🔐 Sector Terminals</h3>

                <div class="w-full max-w-6xl mx-auto mb-10">
                    <div class="w-full h-[800px] border-4 rounded-xl shadow-2xl overflow-hidden">
                        <iframe
                            id="vault-frame"
                            src="vault-master.html"
                            class="w-full h-full rounded-xl"
                            frameborder="0"
                            title="VaultMaster Terminal"
                            sandbox="allow-scripts allow-same-origin allow-forms"
                        ></iframe>
                    </div>
                </div>

                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl mx-auto">
                    <button onclick="loadTerminal('vault-master.html')" class="terminal-btn p-6">🦍 VaultMaster Terminal</button>
                    <button onclick="loadTerminal('cube-lattice.html')" class="terminal-btn p-6">🧱 Cube Lattice GPT</button>
                    <button onclick="loadTerminal('global-view.html')" class="terminal-btn p-6">🌍 Global View GPT</button>
                    <button onclick="loadTerminal('freight-ops.html')" class="terminal-btn p-6">🚚 Freight Ops GPT</button>
                    <button onclick="loadTerminal('loop-watch.html')" class="terminal-btn p-6">♻️ Loop Watch GPT</button>
                    <button onclick="loadTerminal('seedwave.html')" class="terminal-btn p-6">🌱 Seedwave GPT</button>
                    <button onclick="loadTerminal('distribution.html')" class="terminal-btn p-6">📦 Distribution GPT</button>
                    <button onclick="loadTerminal('signal.html')" class="terminal-btn p-6">🔐 Signal GPT</button>
                    <button onclick="loadTerminal('faa-brands.html')" class="terminal-btn p-6">📦 7038 FAA Brands</button>
                </div>
            </section>

            <section id="sector-scrolls-section" class="content-section sector-scrolls-section">
                <h2 class="text-4xl font-bold mb-8">🧬 Sector Scrolls</h2>
                <div id="sector-glyphs-container" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 max-w-6xl mx-auto">
                </div>
                <div id="sector-content-container" class="mt-10 px-6 max-w-6xl mx-auto"></div>
            </section>

            <section id="treaty" class="content-section">
                <h2 class="text-4xl font-bold mb-6">📜 Treaty System™</h2>
                <p class="max-w-2xl mx-auto text-lg mb-8">The FAA.zone™ Treaty Layer binds interface to intention. This is not UI. This is glyph-encoded law.</p>
                <blockquote class="text-2xl italic font-semibold">"FAA.zone™ isn't a site. It's the shape of alignment — and 🦍 holds the flame."</blockquote>
            </section>

            <section id="signal-packet-section" class="content-section signal-packet-section">
                <pre class="max-w-2xl mx-auto p-4 rounded-lg overflow-auto"><code>{
    "signal": "omnidrop",
    "origin": "If you dont like the fruits you are growing, change the seed™ / FAA Vault Layer",
    "payload": {
        "type": "scroll",
        "value": "homepage + VaultRouter + all terminal iframe buttons live + Treaty Grid"
    }
}</code></pre>
            </section>

            <section id="vaultmesh" class="content-section">
                <div class="max-w-4xl mx-auto text-left space-y-6">

                    <h2 class="text-4xl font-bold">🧠 VaultMesh™: Executive Summary</h2>

                    <p>VaultMesh™ is an intelligent data orchestration framework designed for the segmentation, synchronization, and secure deployment of high-value digital assets—referred to as scrolls—across decentralized and permissioned networks such as FAA.zone™.</p>

                    <ul class="list-disc ml-6 space-y-2">
                        <li>Captures metadata-rich content streams (chats, code, brands, assets)</li>
                        <li>Assigns them to programmable claim structures (ScrollClaims™)</li>
                        <li>Secures their lineage using OmniSignal™, PulseGrid™, and GhostTrace™ layers</li>
                        <li>Enforces royalty logic, scroll integrity, and traceability on-chain and off-grid</li>
                    </ul>

                    <p>VaultMesh™ powers high-tier operations like HSOMNI9000™, enabling Diamond-tier deployments, cross-sector scroll claims, and enterprise-scale content monetization with full compliance and provenance.</p>

                    <p>A critical operator in this ecosystem is HSOMNI9000™, the certified scroll class which governs Diamond-tier logic, enforces 10–11% royalty triggers, and auto-deploys ScrollClaims™ with real-time ClaimRoot™ verification.</p>

                    <h3 class="text-2xl font-semibold mt-10">📖 VaultMesh™ Index</h3>
                    <ul class="list-decimal ml-6 space-y-2">
                        <li>Introduction to VaultMesh™</li>
                        <li>Core System Components</li>
                        <li>ScrollClaim™ Infrastructure</li>
                        <li>Data Flow and Claim Lifecycle</li>
                        <li>Tiering, Royalties, and Compliance</li>
                        <li>Integration with FAA.zone™</li>
                        <li>Market Segments & Use Cases</li>
                        <li>Revenue Streams & Monetization</li>
                        <li>Technology Roadmap</li>
                        <li>Team & Governance</li>
                    </ul>

                    <h3 class="text-xl font-bold mt-10">☑️ 1. Introduction to VaultMesh™</h3>
                    <p>VaultMesh™ transforms disorganized digital content into claimable, trackable assets. It bridges enterprise content systems, decentralized data vaults, and monetization layers through FAA-compliant infrastructure.</p>

                    <h3 class="text-xl font-bold mt-10">⚒️ 2. Core System Components</h3>
                    <ul class="list-disc ml-6 space-y-1">
                        <li>VaultDNA™: Immutable identifiers for scroll content</li>
                        <li>ClaimRoot™: Origin anchor & timestamp</li>
                        <li>ScrollClaim™ Contracts: Programmable wrappers</li>
                        <li>PulseGrid™ Sync: Real-time scroll presence & sync</li>
                        <li>OmniSignal™: Global scroll verification</li>
                        <li>GhostTrace™ Gen2: Scroll interaction backtrace</li>
                    </ul>

                    <h3 class="text-xl font-bold mt-10">🛠️ 3. ScrollClaim™ Infrastructure</h3>
                    <ul class="list-disc ml-6 space-y-1">
                        <li>Set tier access (e.g., Diamond)</li>
                        <li>Define royalty logic (10–11%)</li>
                        <li>Lock scrolls with PulseGrid™ sync and OmniSignal™</li>
                        <li>Deploy via FAA.zone™ with compliant ZIP bundles</li>
                    </ul>

                    <h3 class="text-xl font-bold mt-10">📀 4. Data Flow and Claim Lifecycle</h3>
                    <ul class="list-decimal ml-6 space-y-1">
                        <li>Ingest — content enters VaultMesh™</li>
                        <li>Encode — metadata & VaultDNA™ attached</li>
                        <li>Wrap — ScrollClaim™ smart-wrapped</li>
                        <li>Deploy — FAA.zone™ push (ZIP, manifest, HTML)</li>
                        <li>Sync — PulseGrid™ status & OmniSignal™ locked</li>
                        <li>Enforce — Royalties, access & scroll activity logged via GhostTrace™</li>
                    </ul>

                    <h3 class="text-xl font-bold mt-10">💸 5. Tiering, Royalties, and Compliance</h3>
                    <ul class="list-disc ml-6 space-y-1">
                        <li>Diamond Tier: 10–11% royalty enforced</li>
                        <li>SmartWallet Integration: ScrollClaim™ payments and transfers</li>
                        <li>VaultPay™ Tier III: Required for commercial deployments</li>
                        <li>Compliance: FAA scroll ID, ClaimRoot™ hash, and royalty schema</li>
                    </ul>

                    <h3 class="text-xl font-bold mt-10">📡 6. Integration with FAA.zone™</h3>
                    <ul class="list-disc ml-6 space-y-1">
                        <li>Native support for /public/diamond/ structure</li>
                        <li>ZIP, HTML, Manifest deployment bundles</li>
                        <li>ClaimRoot™ timestamp validation</li>
                        <li>Seamless PulseGrid™ auto-sync for live claim state</li>
                        <li>Brand hosting via vault.faa.zone™</li>
                    </ul>

                    <h3 class="text-xl font-bold mt-10">🏢 7. Market Segments & Use Cases</h3>
                    <ul class="list-disc ml-6 space-y-1">
                        <li>GPT Conversations & Expert Threads</li>
                        <li>Knowledge/Training Archives</li>
                        <li>Creative IP Scrolls (music, literature, visuals)</li>
                        <li>GeoSector Deployment Archives</li>
                        <li>Enterprise Scroll Logs & Audit Trails</li>
                    </ul>

                    <h3 class="text-xl font-bold mt-10">💰 8. Revenue Streams & Monetization</h3>
                    <ul class="list-disc ml-6 space-y-1">
                        <li>Diamond Royalties (10–11%)</li>
                        <li>Scroll Packaging Fees</li>
                        <li>VaultMesh™ API Subscriptions</li>
                        <li>PulseGrid™ and OmniSignal™ Licensing</li>
                    </ul>

                    <h3 class="text-xl font-bold mt-10">⚖️ 9. Technology Roadmap</h3>
                    <ul class="list-disc ml-6 space-y-1">
                        <li>Q2 2025: ScrollClaim™ v2.2 with multi-claim staking</li>
                        <li>Q3 2025: GhostTrace™ Gen3 with forensic backtrace tooling</li>
                        <li>Q4 2025: Autonomous AI Sector Agents</li>
                        <li>Q1 2026: Inter-vault Federation</li>
                    </ul>

                    <h3 class="text-xl font-bold mt-10">🔧 10. Team & Governance</h3>
                    <ul class="list-disc ml-6 space-y-1">
                        <li>FAA-certified engineers (scroll claimers)</li>
                        <li>Scroll Ministers: Compliance + tiering</li>
                        <li>Vault Admins: Metadata + ClaimRoot™ enforcement</li>
                        <li>HSOMNI9000™ Operators: Diamond-tier execution agents</li>
                    </ul>

                    <p class="text-sm mt-10">📎 This plan can now be exported as HTML, PDF, or ZIP.</p>
                </div>
            </section>

            <section id="admin-portal-section" class="content-section">
                <aside id="admin-portal-sidebar">
                    <div class="py-8 flex" id="admin-sidebar-logo-section">
                        <a href="#" class="block w-full">
                            <div class="logo-container">
                                <img class="logo-full" src="https://placehold.co/150x40/f5f5f7/1d1d1f?text=Admin+Fruitful" alt="Admin Fruitful Logo">
                                <img class="logo-collapsed hidden" src="https://placehold.co/40x40/f5f5f7/1d1d1f?text=A" alt="Admin Icon">
                            </div>
                        </a>
                    </div>
                    <div class="flex flex-col overflow-y-auto duration-300 ease-linear no-scrollbar">
                        <nav class="mb-6">
                            <div class="flex flex-col gap-1">
                                <h2 class="mb-2 text-xs uppercase flex leading-[20px] text-gray-500 justify-start pl-4 pt-4">Admin Menu</h2>
                                <ul class="flex flex-col gap-1">
                                    <li><a href="#admin-quick-view" class="menu-item group w-full flex justify-start admin-sidebar-link" data-admin-view="admin-quick-view"><span class="menu-item-icon-inactive">🏁</span><span class="menu-item-text">Quick View</span></a></li>
                                    <li><a href="#admin-global-dashboard" class="menu-item group w-full flex justify-start admin-sidebar-link" data-admin-view="admin-global-dashboard"><span class="menu-item-icon-inactive">📊</span><span class="menu-item-text">Global Dashboard</span></a></li>
                                    <li><a href="#admin-signal-sync" class="menu-item group w-full flex justify-start admin-sidebar-link" data-admin-view="admin-signal-sync"><span class="menu-item-icon-inactive">📡</span><span class="menu-item-text">Signal Sync</span></a></li>
                                    <li><a href="#admin-node-index" class="menu-item group w-full flex justify-start admin-sidebar-link" data-admin-view="admin-node-index"><span class="menu-item-icon-inactive">🧩</span><span class="menu-item-text">Node Index</span></a></li>
                                    <li><a href="#admin-sector-grid" class="menu-item group w-full flex justify-start admin-sidebar-link" data-admin-view="admin-sector-grid"><span class="menu-item-icon-inactive">🏙️</span><span class="menu-item-text">Sector Grid</span></a></li>
                                    <li><a href="#admin-license-ledger" class="menu-item group w-full flex justify-start admin-sidebar-link" data-admin-view="admin-license-ledger"><span class="menu-item-icon-inactive">🔐</span><span class="menu-item-text">License Ledger</span></a></li>
                                    <li><a href="#admin-faa-clauses" class="menu-item group w-full flex justify-start admin-sidebar-link" data-admin-view="admin-faa-clauses"><span class="menu-item-icon-inactive">📜</span><span class="menu-item-text">FAA Clauses</span></a></li>
                                    <li><a href="#admin-scrollmap" class="menu-item group w-full flex justify-start admin-sidebar-link" data-admin-view="admin-scrollmap"><span class="menu-item-icon-inactive">🗺️</span><span class="menu-item-text">ScrollMap</span></a></li>
                                    <li><a href="#admin-ecosystem-mesh" class="menu-item group w-full flex justify-start admin-sidebar-link" data-admin-view="admin-ecosystem-mesh"><span class="menu-item-icon-inactive">🌿</span><span class="menu-item-text">Ecosystem Mesh</span></a></li>
                                    <li><a href="#admin-brand-metrics" class="menu-item group w-full flex justify-start admin-sidebar-link" data-admin-view="admin-brand-metrics"><span class="menu-item-icon-inactive">🔍</span><span class="menu-item-text">Brand Metrics</span></a></li>
                                    <li><a href="#admin-scroll-layers" class="menu-item group w-full flex justify-start admin-sidebar-link" data-admin-view="admin-scroll-layers"><span class="menu-item-icon-inactive">🧬</span><span class="menu-item-text">Scroll Layers</span></a></li>
                                    <li><a href="#admin-grid-index" class="menu-item group w-full flex justify-start admin-sidebar-link" data-admin-view="admin-grid-index"><span class="menu-item-icon-inactive">📊</span><span class="menu-item-text">Grid Index</span></a></li>
                                    <li><a href="#admin-node-packs" class="menu-item group w-full flex justify-start admin-sidebar-link" data-admin-view="admin-node-packs"><span class="menu-item-icon-inactive">📁</span><span class="menu-item-text">Node Packs</span></a></li>
                                    <li><a href="#admin-audit-tracker" class="menu-item group w-full flex justify-start admin-sidebar-link" data-admin-view="admin-audit-tracker"><span class="menu-item-icon-inactive">📈</span><span class="menu-item-text">Audit Tracker</span></a></li>
                                    <li><a href="#admin-signal-zones" class="menu-item group w-full flex justify-start admin-sidebar-link" data-admin-view="admin-signal-zones"><span class="menu-item-icon-inactive">🛰️</span><span class="menu-item-text">Signal Zones</span></a></li>
                                    <li><a href="#admin-ecosync-logs" class="menu-item group w-full flex justify-start admin-sidebar-link" data-admin-view="admin-ecosync-logs"><span class="menu-item-icon-inactive">📥</span><span class="menu-item-text">Ecosync Logs</span></a></li>
                                </ul>
                            </div>
                        </nav>
                    </div
                </aside>

                <div id="admin-portal-main-content-area">
                    <header class="admin-header flex flex-wrap justify-between items-center">
                        <div class="flex items-center">
                            <h1 class="text-3xl font-bold">⚙️ Seedwave™ Admin Portal</h1>
                            <p class="text-sm opacity-80 mt-2 ml-4 hidden md:block">✿Corebrands management & AI logic deployment center</p>
                        </div>
                        <div class="flex flex-wrap justify-center md:justify-end space-x-2 mt-4 md:mt-0">
                            <a href="/admin/admin-portal-approval" class="access-button" target="_blank">🪙 Loyalty Access</a>
                            <a href="/admin/admin-portal-approval" class="access-button" target="_blank">📊 Shareholder Access</a>
                            <a href="/admin/admin-portal-approval" class="access-button" target="_blank">🤝 Service Provider</a>
                            <a href="/admin/admin-portal-approval" class="access-button" target="_blank">👨‍👩‍👧‍👦 Family Access</a>
                        </div>
                    </header>

                    <nav class="top-nav flex gap-6 px-6 py-3 text-sm overflow-x-auto whitespace-nowrap">
                        <a href="#admin-quick-view" class="admin-nav-link" data-admin-view="admin-quick-view">🏁 Quick View (Current)</a>
                        <a href="#admin-global-dashboard" class="admin-nav-link" data-admin-view="admin-global-dashboard">📊 Global Dashboard</a>
                        <a href="#admin-signal-sync" class="admin-nav-link" data-admin-view="admin-signal-sync">📡 Signal Sync</a>
                        <a href="#admin-node-index" class="admin-nav-link" data-admin-view="admin-node-index">🧩 Node Index</a>
                        <a href="#admin-sector-grid" class="admin-nav-link" data-admin-view="admin-sector-grid">🏙️ Sector Grid</a>
                        <a href="#admin-license-ledger" class="admin-nav-link" data-admin-view="admin-license-ledger">🔐 License Ledger</a>
                        <a href="#admin-faa-clauses" class="admin-nav-link" data-admin-view="admin-faa-clauses">📜 FAA Clauses</a>
                        <a href="#admin-scrollmap" class="admin-nav-link" data-admin-view="admin-scrollmap">🗺️ ScrollMap</a>
                        <a href="#admin-ecosystem-mesh" class="admin-nav-link" data-admin-view="admin-ecosystem-mesh">🌿 Ecosystem Mesh</a>
                        <a href="#admin-brand-metrics" class="admin-nav-link" data-admin-view="admin-brand-metrics">🔍 Brand Metrics</a>
                        <a href="#admin-scroll-layers" class="admin-nav-link" data-admin-view="admin-scroll-layers">🧬 Scroll Layers</a>
                        <a href="#admin-grid-index" class="admin-nav-link" data-admin-view="admin-grid-index">📊 Grid Index</a>
                        <a href="#admin-node-packs" class="admin-nav-link" data-admin-view="admin-node-packs">📁 Node Packs</a>
                        <a href="#admin-audit-tracker" class="admin-nav-link" data-admin-view="admin-audit-tracker">📈 Audit Tracker</a>
                        <a href="#admin-signal-zones" class="admin-nav-link" data-admin-view="admin-signal-zones">🛰️ Signal Zones</a>
                        <a href="#admin-ecosync-logs" class="admin-nav-link" data-admin-view="admin-ecosync-logs">📥 Ecosync Logs</a>
                    </nav>

                    <section id="admin-quick-view" class="admin-view-panel active"> <div class="content-block">
                            <h2 class="text-xl font-bold mb-4">⚙️ Admin Panel — Add Brand & Subnodes</h2>
                            <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                                <div>
                                    <label class="text-sm block font-medium mb-1">📂 Sector</label>
                                    <select id="sectorSelect" class="w-full border rounded p-2"></select>
                                </div>
                                <div>
                                    <label class="text-sm block font-medium mb-1">🏷 Brand Name</label>
                                    <input id="brandInput" class="w-full border rounded p-2" placeholder="e.g. OmniCastX">
                                </div>
                                <div>
                                    <label class="text-sm block font-medium mb-1">📌 Subnodes</label>
                                    <input id="subnodesInput" class="w-full border rounded p-2" placeholder="e.g. VaultDrop, QRClaim">
                                </div>
                                <div class="flex items-end">
                                    <button id="add-brand-btn">➕ Add Brand</button>
                                </div>
                            </div>
                        </div>

                        <div class="content-block">
                            <h3 class="text-md font-semibold mb-2">ℹ️ Admin Status Feedback</h3>
                            <p id="adminStatus" class="text-sm italic">Ready to receive input.</p>
                        </div>

                        <div class="content-block">
                            <h2 class="text-lg font-bold mb-4">📊 Saved Brand Overview</h2>
                            <div id="brandDashboard" class="space-y-10"></div>
                        </div>

                        <div class="content-block">
                            <h2 class="text-xl font-bold mb-4">⦿ FAA.ZONE INDEX — Expanded Table Structure</h2>
                            <div class="overflow-x-auto">
                                <table class="min-w-full admin-table">
                                    <thead class="font-semibold">
                                        <tr>
                                            <th class="px-4 py-2">Glyph</th><th class="px-4 py-2">Sector</th><th class="px-4 py-2">Core Brands</th><th class="px-4 py-2">Total Nodes</th><th class="px-4 py-2">Monthly Fee</th><th class="px-4 py-2">Annual Fee</th><th class="px-4 py-2">Payout Tier</th><th class="px-4 py-2">Region</th><th class="px-4 py-2">Inspect</th><th class="px-4 py-2">Deploy</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr><td class="px-4 py-2">🧺</td><td>Retail, Vendor & Trade</td><td>183</td><td>1,098</td><td>$88</td><td>$888</td><td>A+</td><td>Div A-F</td><td><button class="text-blue-400 hover:underline">View</button></td><td><button class="text-green-400 hover:underline">Deploy</button></td></tr>
                                        <tr><td class="px-4 py-2">🧠</td><td>AI, Logic & Grid Systems</td><td>188</td><td>752</td><td>$104</td><td>$1,050</td><td>A+</td><td>Global</td><td><button class="text-blue-400 hover:underline">View</button></td><td><button class="text-green-400 hover:underline">Deploy</button></td></tr>
                                        <tr><td class="px-4 py-2">🖋️</td><td>Creative & Design Systems</td><td>142</td><td>710</td><td>$67</td><td>$720</td><td>A</td><td>Div E</td><td><button class="text-blue-400 hover:underline">View</button></td><td><button class="text-green-400 hover:underline">Deploy</button></td></tr>
                                        <tr><td class="px-4 py-2">₿</td><td>Finance & Token Yield</td><td>136</td><td>680</td><td>$125</td><td>$1,250</td><td>A+</td><td>Div A-E</td><td><button class="text-blue-400 hover:underline">View</button></td><td><button class="text-green-400 hover:underline">Deploy</button></td></tr>
                                        <tr><td class="px-4 py-2">📴</td><td>Webless Tech & Nodes</td><td>103</td><td>515</td><td>$76</td><td>$770</td><td>A</td><td>Div D-G</td><td><button class="text-blue-400 hover:underline">View</button></td><td><button class="text-green-400 hover:underline">Deploy</button></td></tr>
                                        <tr><td class="px-4 py-2">📦</td><td>Logistics & Packaging</td><td>111</td><td>444</td><td>$58</td><td>$595</td><td>B+</td><td>Div B-F</td><td><button class="text-blue-400 hover:underline">View</button></td><td><button class="text-green-400 hover:underline">Deploy</button></td></tr>
                                        <tr><td class="px-4 py-2">✿</td><td>Food, Soil & Farming</td><td>83</td><td>332</td><td>$46</td><td>$480</td><td>B+</td><td>Rural</td><td><button class="text-blue-400 hover:underline">View</button></td><td><button class="text-green-400 hover:underline">Deploy</button></td></tr>
                                        <tr><td class="px-4 py-2">🧒</td><td>Youth & Education</td><td>66</td><td>330</td><td>$39</td><td>$420</td><td>A</td><td>Tribal</td><td><button class="text-blue-400 hover:underline">View</button></td><td><button class="text-green-400 hover:underline">Deploy</button></td></tr>
                                        <tr><td class="px-4 py-2">⚗</td><td>Health & Hygiene</td><td>93</td><td>372</td><td>$52</td><td>$550</td><td>B</td><td>Div F</td><td><button class="text-blue-400 hover:underline">View</button></td><td><button class="text-green-400 hover:underline">Deploy</button></td></tr>
                                        <tr><td class="px-4 py-2">☯</td><td>Aura, Ritual & Culture</td><td>74</td><td>296</td><td>$68</td><td>$725</td><td>A</td><td>Div C</td><td><button class="text-blue-400 hover:underline">View</button></td><td><button class="text-green-400 hover:underline">Deploy</button></td></tr>
                                        <tr><td class="px-4 py-2">🏗️</td><td>Housing & Infrastructure</td><td>91</td><td>364</td><td>$59</td><td>$610</td><td>B+</td><td>Div A-F</td><td><button class="text-blue-400 hover:underline">View</button></td><td><button class="text-green-400 hover:underline">Deploy</button></td></tr>
                                        <tr><td class="px-4 py-2">🔁</td><td>NFT, IP, Ownership Grid</td><td>58</td><td>232</td><td>$120</td><td>$1,200</td><td>A</td><td>FAA IP</td><td><button class="text-blue-400 hover:underline">View</button></td><td><button class="text-green-400 hover:underline">Deploy</button></td></tr>
                                        <tr><td class="px-4 py-2">🌀</td><td>Motion, Media, Sonic</td><td>78</td><td>312</td><td>$72</td><td>$740</td><td>A</td><td>Creative</td><td><button class="text-blue-400 hover:underline">View</button></td><td><button class="text-green-400 hover:underline">Deploy</button></td></tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <div class="content-block">
                            <nav class="sector-grid-nav overflow-x-auto flex gap-3 pb-2">
                                <a href="#" class="sector-link" data-sector-panel="embedded-agriculture-snapshot">🌱 Agriculture & Biotech</a>
                                <a href="#" class="sector-link" data-sector-panel="embedded-fsf-snapshot">🥦 Food, Soil & Farming</a>
                                <a href="#" class="sector-link" data-sector-panel="embedded-banking-snapshot">🏦 Banking & Finance</a>
                                <a href="#" class="sector-link" data-sector-panel="embedded-creative-snapshot">🖋️ Creative Tech</a>
                                <a href="#" class="sector-link" data-sector-panel="embedded-logistics-snapshot">📦 Logistics & Packaging</a>
                                <a href="#" class="sector-link" data-sector-panel="embedded-education-snapshot">📚 Education & IP</a>
                                <a href="#" class="sector-link" data-sector-panel="embedded-fashion-snapshot">✂ Fashion & Identity</a>
                                <a href="#" class="sector-link" data-sector-panel="embedded-gaming-snapshot">🎮 Gaming & Simulation</a>
                                <a href="#" class="sector-link" data-sector-panel="embedded-health-snapshot">🧠 Health & Hygiene</a>
                                <a href="#" class="sector-link" data-sector-panel="embedded-housing-snapshot">🏗️ Housing & Infrastructure</a>
                                <a href="#" class="sector-link" data-sector-panel="embedded-justice-snapshot">⚖ Justice & Ethics</a>
                                <a href="#" class="sector-link" data-sector-panel="embedded-knowledge-snapshot">🧠 Knowledge & Archives</a>
                                <a href="#" class="sector-link" data-sector-panel="embedded-micromesh-snapshot">☰ Micro-Mesh Logistics</a>
                                <a href="#" class="sector-link" data-sector-panel="embedded-media-snapshot" data-sector="media">🎬 Motion, Media & Sonic</a>
                                <a href="#" class="sector-link" data-sector-panel="embedded-nutrition-snapshot">✿ Nutrition & Food Chain</a>
                                <a href="#" class="sector-link" data-sector-panel="embedded-ailogic-snapshot">🧠 AI, Logic & Grid Systems</a>
                                <a href="#" class="sector-link" data-sector-panel="embedded-packaging-snapshot">📦 Packaging & Materials</a>
                                <a href="#" class="sector-link" data-sector-panel="embedded-quantum-snapshot">✴️ Quantum Protocols</a>
                                <a href="#" class="sector-link" data-sector-panel="embedded-ritual-snapshot">☯ Ritual & Culture</a>
                                <a href="#" class="sector-link" data-sector-panel="embedded-saas-snapshot">🔑 SaaS & Licensing</a>
                                <a href="#" class="sector-link" data-sector-panel="embedded-trade-snapshot">🧺 Trade Systems</a>
                                <a href="#" class="sector-link" data-sector-panel="embedded-utilities-snapshot">🔋 Utilities & Energy</a>
                                <a href="#" class="sector-link" data-sector-panel="embedded-voice-snapshot">🎙️ Voice & Audio</a>
                                <a href="#" class="sector-link" data-sector-panel="embedded-webless-snapshot">📡 Webless Tech & Nodes</a>
                                <a href="#" class="sector-link" data-sector-panel="embedded-nft-snapshot">🔁 NFT & Ownership</a>
                                <a href="#" class="sector-link" data-sector-panel="embedded-zerowaste-snapshot">♻️ Zero Waste</a>
                                <a href="#" class="sector-link" data-sector-panel="embedded-professional-snapshot">🧾 Professional Services</a>
                                <a href="#" class="sector-link" data-sector-panel="embedded-admin-snapshot">⚙️ Admin & Manual Sync Panel</a>
                            </nav>

                            <div id="embedded-agriculture-snapshot" class="hidden brand-snapshot">
                                <div class="text-2xl font-bold text-green-400 mb-4">🌾 FAA™ Agriculture Core Brand Dashboard</div>
                                <div id="agri-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-3 px-4"></div>
                                <div class="p-6" id="agri-snapshots"></div>
                            </div>
                            <div id="embedded-fsf-snapshot" class="hidden brand-snapshot">
                                <div class="text-2xl font-bold text-green-400 mb-4">🥦 FAA™ Food, Soil & Farming Dashboard</div>
                                <div id="fsf-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-3 px-4"></div>
                                <div class="p-6" id="fsf-snapshots"></div>
                            </div>
                            <div id="embedded-banking-snapshot" class="hidden brand-snapshot">
                                <div class="text-2xl font-bold text-indigo-400 mb-4">🏦 FAA™ Banking & Finance Dashboard</div>
                                <div id="banking-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-3 px-4"></div>
                                <div class="p-6" id="banking-snapshots"></div>
                            </div>
                            <div id="embedded-creative-snapshot" class="hidden brand-snapshot">
                                <div class="text-2xl font-bold text-purple-400 mb-4">🖋️ FAA™ Creative Tech Dashboard</div>
                                <div id="creative-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-3 px-4"></div>
                                <div class="p-6" id="creative-snapshots"></div>
                            </div>
                            <div id="embedded-logistics-snapshot" class="hidden brand-snapshot">
                                <div class="text-2xl font-bold text-yellow-400 mb-4">📦 FAA™ Logistics & Packaging Dashboard</div>
                                <div id="logistics-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-3 px-4"></div>
                                <div class="p-6" id="logistics-snapshots"></div>
                            </div>
                            <div id="embedded-education-snapshot" class="hidden brand-snapshot">
                                <div class="text-2xl font-bold text-green-400 mb-4">🎓 FAA™ Education & Youth Dashboard</div>
                                <div id="education-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-3 px-4"></div>
                                <div class="p-6" id="education-snapshots"></div>
                            </div>
                            <div id="embedded-fashion-snapshot" class="hidden brand-snapshot">
                                <div class="text-2xl font-bold text-pink-400 mb-4">✂ FAA™ Fashion & Identity Dashboard</div>
                                <div id="fashion-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-3 px-4"></div>
                                <div class="p-6" id="fashion-snapshots"></div>
                            </div>
                            <div id="embedded-gaming-snapshot" class="hidden brand-snapshot">
                                <div class="text-2xl font-bold text-indigo-400 mb-4">🎮 FAA™ Gaming & Simulation Dashboard</div>
                                <div id="gaming-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-3 px-4"></div>
                                <div class="p-6" id="gaming-snapshots"></div>
                            </div>
                            <div id="embedded-health-snapshot" class="hidden brand-snapshot">
                                <div class="text-2xl font-bold text-gray-400 mb-4">🧠 FAA™ Health & Hygiene Dashboard</div>
                                <div id="health-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-3 px-4"></div>
                                <div class="p-6" id="health-snapshots"></div>
                            </div>
                            <div id="embedded-housing-snapshot" class="hidden brand-snapshot">
                                <div class="text-2xl font-bold text-blue-400 mb-4">🏗️ FAA™ Housing & Infrastructure Dashboard</div>
                                <div id="housing-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-3 px-4"></div>
                                <div class="p-6" id="housing-snapshots"></div>
                            </div>
                            <div id="embedded-justice-snapshot" class="hidden brand-snapshot">
                                <div class="text-2xl font-bold text-gray-400 mb-4">⚖ FAA™ Justice & Ethics Dashboard</div>
                                <div id="justice-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-3 px-4"></div>
                                <div class="p-6" id="justice-snapshots"></div>
                            </div>
                            <div id="embedded-professional-snapshot" class="hidden brand-snapshot">
                                <div class="text-2xl font-bold text-indigo-400 mb-4">🧾 FAA™ Professional Services Dashboard</div>
                                <div id="professional-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-3 px-4"></div>
                                <div class="p-6" id="professional-snapshots"></div>
                            </div>
                            <div id="embedded-knowledge-snapshot" class="hidden brand-snapshot">
                                <div class="text-2xl font-bold text-blue-400 mb-4">🧠 FAA™ Knowledge & Archives Dashboard</div>
                                <div id="knowledge-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-3 px-4"></div>
                                <div class="p-6" id="knowledge-snapshots"></div>
                            </div>
                            <div id="embedded-micromesh-snapshot" class="hidden brand-snapshot">
                                <div class="text-2xl font-bold text-yellow-400 mb-4">☰ FAA™ Micro-Mesh Logistics Dashboard</div>
                                <div id="micromesh-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-3 px-4"></div>
                                <div class="p-6" id="micromesh-snapshots"></div>
                            </div>
                            <div id="embedded-media-snapshot" class="hidden brand-snapshot">
                                <div class="text-2xl font-bold text-gray-400 mb-4">🎬 FAA™ Motion, Media & Sonic Dashboard</div>
                                <div id="media-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-3 px-4"></div>
                                <div class="p-6" id="media-snapshots"></div>
                                <div id="media-scroll-panel" class="overflow-x-auto mt-10 mb-12 px-4">
                                    <div class="scroll-cards flex space-x-6 min-w-full pb-4"></div>
                                </div>
                            </div>
                            <div id="embedded-nutrition-snapshot" class="hidden brand-snapshot">
                                <div class="text-2xl font-bold text-green-400 mb-4">✿ FAA™ Nutrition & Food Chain Dashboard</div>
                                <div id="nutrition-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-3 px-4"></div>
                                <div class="p-6" id="nutrition-snapshots"></div>
                            </div>
                            <div id="embedded-packaging-snapshot" class="hidden brand-snapshot">
                                <div class="text-2xl font-bold text-yellow-400 mb-4">📦 FAA™ Packaging & Materials Dashboard</div>
                                <div id="packaging-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-3 px-4"></div>
                                <div class="p-6" id="packaging-snapshots"></div>
                            </div>
                            <div id="embedded-quantum-snapshot" class="hidden brand-snapshot">
                                <div class="text-2xl font-bold text-purple-400 mb-4">✴️ FAA™ Quantum Protocols Dashboard</div>
                                <div id="quantum-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-3 px-4"></div>
                                <div class="p-6" id="quantum-snapshots"></div>
                            </div>
                            <div id="embedded-ritual-snapshot" class="hidden brand-snapshot">
                                <div class="text-2xl font-bold text-gray-400 mb-4">☯ FAA™ Ritual & Culture Dashboard</div>
                                <div id="ritual-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-3 px-4"></div>
                                <div class="p-6" id="ritual-snapshots"></div>
                            </div>
                            <div id="embedded-saas-snapshot" class="hidden brand-snapshot">
                                <div class="text-2xl font-bold text-blue-400 mb-4">🔑 FAA™ SaaS & Licensing Dashboard</div>
                                <div id="saas-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-3 px-4"></div>
                                <div class="p-6" id="saas-snapshots"></div>
                            </div>
                            <div id="embedded-trade-snapshot" class="hidden brand-snapshot">
                                <div class="text-2xl font-bold text-orange-400 mb-4">🧺 FAA™ Trade Systems Dashboard</div>
                                <div id="trade-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-3 px-4"></div>
                                <div class="p-6" id="trade-snapshots"></div>
                            </div>
                            <div id="embedded-utilities-snapshot" class="hidden brand-snapshot">
                                <div class="text-2xl font-bold text-yellow-400 mb-4">🔋 FAA™ Utilities & Energy Dashboard</div>
                                <div id="utilities-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-3 px-4"></div>
                                <div class="p-6" id="utilities-snapshots"></div>
                            </div>
                            <div id="embedded-voice-snapshot" class="hidden brand-snapshot">
                                <div class="text-2xl font-bold text-indigo-400 mb-4">🎙️ FAA™ Voice & Audio Dashboard</div>
                                <div id="voice-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-3 px-4"></div>
                                <div class="p-6" id="voice-snapshots"></div>
                            </div>
                            <div id="embedded-webless-snapshot" class="hidden brand-snapshot">
                                <div class="text-2xl font-bold text-gray-400 mb-4">📡 FAA™ Webless Tech & Nodes Dashboard</div>
                                <div id="webless-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-3 px-4"></div>
                                <div class="p-6" id="webless-snapshots"></div>
                            </div>
                            <div id="embedded-nft-snapshot" class="hidden brand-snapshot">
                                <div class="text-2xl font-bold text-pink-400 mb-4">🔁 FAA™ NFT & Ownership Dashboard</div>
                                <div id="nft-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-3 px-4"></div>
                                <div class="p-6" id="nft-snapshots"></div>
                            </div>
                            <div id="embedded-zerowaste-snapshot" class="hidden brand-snapshot">
                                <div class="text-2xl font-bold text-lime-400 mb-4">♻️ FAA™ Zero Waste Dashboard</div>
                                <div id="zerowaste-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-3 px-4"></div>
                                <div class="p-6" id="zerowaste-snapshots"></div>
                            </div>
                            <div id="embedded-professional-snapshot" class="hidden brand-snapshot">
                                <div class="text-2xl font-bold text-indigo-400 mb-4">🧾 FAA™ Professional Services Dashboard</div>
                                <div id="professional-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-3 px-4"></div>
                                <div class="p-6" id="professional-snapshots"></div>
                            </div>
                            <div id="embedded-ailogic-snapshot" class="hidden brand-snapshot">
                                <div class="text-2xl font-bold text-indigo-400 mb-4">🧠 FAA™ AI, Logic & Grid Brand Dashboard</div>
                                <div id="ailogic-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-3 px-4"></div>
                                <div class="p-6" id="ailogic-snapshots"></div>
                            </div>
                            <div id="embedded-admin-snapshot" class="hidden brand-snapshot">
                                <div class="text-2xl font-bold text-gray-400 mb-4">⚙️ Admin & Manual Sync Panel</div>
                                <div id="admin-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-3 px-4"></div>
                                <div class="p-6" id="admin-snapshots"></div>
                            </div>

                            <div class="content-block">
                                <h2 class="text-xl font-bold text-gray-200">📉 FAA Scroll Pulse Monitor</h2>
                                <p class="text-sm text-gray-400 mb-4">Dynamic scroll sync across sectors in real-time.</p>
                                <div class="h-96">
                                    <canvas id="pulseChart" class="w-full h-full"></canvas>
                                </div>
                            </div>

                            <div class="content-block grid grid-cols-1 md:grid-cols-2 xl:grid-cols-7 gap-6 px-6 py-8 metrics-grid">
                                <a href="node-activity.html" target="_blank">
                                    <h3 class="text-md font-bold">🧠 Active Nodes</h3>
                                    <p>12,934</p>
                                </a>
                                <a href="license-grid.html" target="_blank">
                                    <h3 class="text-md font-bold">🔐 Licenses Active</h3>
                                    <p>3,288</p>
                                </a>
                                <a href="vault-deployments.html" target="_blank">
                                    <h3 class="text-md font-bold">💾 Vault Deployments</h3>
                                    <p>654 Vaults</p>
                                </a>
                                <a href="ecosync-logs.html" target="_blank">
                                    <h3 class="text-md font-bold">📥 Sync Logs</h3>
                                    <p>204,111 entries</p>
                                </a>
                                <a href="audit-tracker.html" target="_blank">
                                    <h3 class="text-md font-bold">📈 Audits Running</h3>
                                    <p>47 scans</p>
                                </a>
                                <a href="signal-zones.html" target="_blank">
                                    <h3 class="text-md font-bold">🛰️ Signal Zones</h3>
                                    <p>21 sectors</p>
                                </a>
                                <a href="grid-index.html" target="_blank">
                                    <h3 class="text-md font-bold">📊 Scroll Grid Index</h3>
                                    <p>986 clusters</p>
                                </a>
                            </div>
                        </div>

                        <section id="admin-global-dashboard" class="admin-view-panel dashboard-view hidden">
                            <div class="content-block">
                                <header>
                                    <h2 class="dashboard-header-h2">📊 FAA™ Global Ecosystem - Interactive Dashboard</h2>
                                    <p class="dashboard-header-p mt-1">A real-time operational overview of the entire FAA™ Global Ecosystem.</p>
                                </header>
                            </div>

                            <div class="content-block grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                                <div class="dashboard-metric-card">
                                    <h3>Total Brands</h3>
                                    <p id="dashboard-metric-total-brands">7,038</p>
                                </div>
                                <div class="dashboard-metric-card">
                                    <h3>Core Brands</h3>
                                    <p id="dashboard-metric-core-brands">168</p>
                                </div>
                                <div class="dashboard-metric-card">
                                    <h3>Product Nodes</h3>
                                    <p id="dashboard-metric-total-nodes">~700</p>
                                </div>
                                <div class="dashboard-metric-card">
                                    <h3>Total Pages</h3>
                                    <p id="dashboard-metric-total-pages">780+</p>
                                </div>
                            </div>

                            <div class="content-block grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8">
                                <div class="lg:col-span-2 dashboard-metric-card">
                                    <h3 class="dashboard-header-h2">Ecosystem Pulse Monitor</h3>
                                    <p class="dashboard-header-p mb-4">Simulated real-time signal activity across key sectors.</p>
                                    <div class="chart-container chart-options-default">
                                        <canvas id="globalPulseChart"></canvas>
                                    </div>
                                </div>
                                <div class="dashboard-metric-card">
                                    <h3 class="dashboard-header-h2">Brand Distribution</h3>
                                    <p class="dashboard-header-p mb-4">Core brands by primary sector.</p>
                                    <div class="chart-container chart-container-doughnut chart-options-default">
                                        <canvas id="brandDistributionChart"></canvas>
                                    </div>
                                </div>
                            </div>

                            <div class="content-block">
                                <h3 class="dashboard-header-h2 mb-4">⚙️ Technology Stack Blueprint</h3>
                                <p class="dashboard-header-p mb-8">An interactive overview of the core infrastructure powering the FAA™ ecosystem. Click each pillar for details.</p>

                                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 text-center mb-8">
                                    <div class="tech-pillar" data-content="tech-vercel" style="border-top-color: #000;"><h3>Vercel</h3><p>Frontend & Serverless</p></div>
                                    <div class="tech-pillar" data-content="tech-cloudflare" style="border-top-color: #f97316;"><h3>Cloudflare</h3><p>DNS, Edge & Security</p></div>
                                    <div class="tech-pillar" data-content="tech-zoho" style="border-top-color: #ef4444;"><h3>Zoho</h3><p>Email & Business APIs</p></div>
                                    <div class="tech-pillar" data-content="tech-hetzner" style="border-top-color: #3b82f6;"><h3>Hetzner</h3><p>Backend & Storage</p></div>
                                </div>

                                <div id="tech-stack-content" class="tech-stack-content-container bg-white p-8 rounded-lg shadow-sm min-h-[300px] mb-8">
                                    <p class="text-center text-slate-500">Click a technology pillar above to see its details.</p>
                                </div>
                            </div>

                            <div class="content-block">
                                <h3 class="dashboard-header-h2 mb-4">🏙️ Ecosystem Explorer</h3>
                                <p class="dashboard-header-p mb-8">Explore the 29 defined sectors and their core brands within the FAA™ Global Supply Chain Grid.</p>

                                <div class="dashboard-metric-card mb-8">
                                    <label for="sector-filter" class="font-semibold text-slate-700">Filter by Sector:</label>
                                    <select id="sector-filter" class="mt-2 block w-full md:w-1/3 p-2 border border-slate-300 rounded-md"></select>
                                </div>

                                <div id="explorer-content" class="space-y-6 mb-8"></div>
                            </div>

                            <div class="content-block">
                                <h3 class="dashboard-header-h2 mb-4">📜 Sovereign Scrolls Generator</h3>
                                <p class="dashboard-header-p mb-8">Monitoring the status of the automated static page generation engine.</p>

                                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
                                    <div class="dashboard-metric-card">
                                        <h3 class="dashboard-header-h2">Generation Progress</h3>
                                        <div class="progress-bar-container"><div id="progress-bar" class="progress-bar">0%</div></div>
                                        <div class="flex justify-between text-sm mt-2">
                                            <span id="pages-generated">0 Generated</span><span id="pages-total">0 Total</span>
                                        </div>
                                        <p class="text-sm text-slate-600 mt-4">The `html-page-generator.py` module is the robust bedrock of the Sovereign Scrolls vision, architecting digital autonomy at an unprecedented scale.</p>
                                    </div>
                                    <div class="dashboard-metric-card">
                                        <h3 class="dashboard-header-h2">Future Focus</h3>
                                        <ul class="list-disc list-inside space-y-2 text-slate-600">
                                            <li>Integrate seamlessly with the Flask Backend (`app.py`) for real-time data persistence.</li>
                                            <li>Enhance Admin Portal (`admin-portal.html`) for intuitive seed data input and deployment previews.</li>
                                            <li>Automate the full CI/CD pipeline for the massive volume of static pages via Vercel.</li>
                                            <li><span id="userIdDisplay"></span></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>

                            <div class="content-block">
                                <h3 class="dashboard-header-h2 mb-4">🔐 License & Clause Ledger</h3>
                                <p class="dashboard-header-p mb-8">An overview of the FAA™ licensing matrix and binding legal protocols.</p>

                                <div class="grid grid-cols-1 lg:grid-cols-5 gap-6 mb-8">
                                    <div class="ledger-metric-card"><h3>Tier 1 (Retail)</h3><p>1,204</p></div>
                                    <div class="ledger-metric-card"><h3>Tier 2 (GovMesh)</h3><p>880</p></div>
                                    <div class="ledger-metric-card"><h3>Tier 3 (Enterprise)</h3><p>734</p></div>
                                    <div class="ledger-metric-card"><h3>Tier 4 (Experimental)</h3><p>289</p></div>
                                    <div class="ledger-metric-card"><h3>Tier 5 (Dormant)</h3><p>181</p></div>
                                </div>

                                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                                    <div class="dashboard-metric-card">
                                        <h3 class="dashboard-header-h2">License Tier Growth (Last 6 Months)</h3>
                                        <div class="chart-container chart-container-bar chart-options-default">
                                            <canvas id="tierGrowthChart"></canvas>
                                        </div>
                                    </div>
                                    <div class="dashboard-metric-card">
                                        <h3 class="dashboard-header-h2">License Clause Allocation</h3>
                                        <div class="chart-container chart-container-doughnut chart-options-default">
                                            <canvas id="clauseAllocationChart"></canvas>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>
                        </div>
                </div>
            </section>

            <section id="about" class="content-section">
                <div class="max-w-4xl mx-auto">
                    <h3 class="text-4xl font-bold mb-8">About Fruitful Innovations</h3>
                    <p class="text-lg leading-relaxed mb-6">
                        At Fruitful, we believe in a future where technology empowers positive change. Our platform is designed to break down traditional barriers, fostering a collaborative ecosystem where businesses and individuals can thrive while making a meaningful impact on the world.
                    </p>
                    <p class="text-lg leading-relaxed">
                        We are committed to transparency, sustainability, and innovation, driven by a powerful AI that ensures fairness, efficiency, and personalized experiences for every user. Join us in building a more fruitful planet.
                    </p>
                </div>
            </section>

            <section id="cta" class="content-section">
                <div class="max-w-3xl mx-auto">
                    <h3 class="text-4xl font-extrabold mb-8 leading-tight">
                        Ready to Transform Your Future?
                    </h3>
                    <p class="text-xl mb-10">
                        Join the Fruitful community today and start your journey towards innovation, connection, and a sustainable tomorrow.
                    </p>
                    <a href="#" class="cta-button">
                        Sign Up Now
                    </a>
                </div>
            </section>

            <footer class="py-8 px-6 md:px-12 text-center">
                © 2025 FAA™ Treaty System™. All Rights Reserved. Powered by 🦍 glyphs + Vault API. Synced with Seedwave™.
            </footer>
        </main>
    </div>

    <div class="mobile-overlay" id="mobile-overlay"></div>


    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, doc, getDoc, setDoc, collection, query, onSnapshot, addDoc } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // --- Centralized Data Store for ALL dashboards and admin functions ---
        const appData = {
            fruitful: {
                sharePrice: { value: 88.88, timestamp: new Date().toLocaleTimeString() },
                brandGrowth: {
                    labels: ['Q1', 'Q2', 'Q3', 'Q4'],
                    data: [3, 7, 13, 21]
                },
                // Updated sectorMap with full paths
                sectorMap: {
                    payroll: '/sectors/payroll/index.html', retail: '/sectors/retail/index.html',
                    'ai-logic': '/sectors/ai-logic/index.html', design: '/sectors/design/index.html',
                    finance: '/sectors/finance/index.html', webless: '/sectors/webless/index.html',
                    logistics: '/sectors/logistics/index.html', food: '/sectors/food/index.html',
                    education: '/sectors/education/index.html', health: '/sectors/health/index.html',
                    culture: '/sectors/culture/index.html', housing: '/sectors/housing/index.html',
                    nft: '/sectors/nft/index.html', media: '/sectors/media/index.html',
                    mining: '/sectors/mining/index.html', wildlife: '/sectors/wildlife/dashboard.html'
                },
                mockScrollProfiles: {
                    media: {
                        VisualPulse: { title: "VisualPulse™ Media Scroll", intro: "Advanced visual content orchestration with real-time rendering.", features: ["4K Streaming", "AI-driven Editing", "Dynamic Watermarking"], pricing: ["Tier 1: $50/month", "Tier 2: $150/month"], metadata: { id: "VP-001", vault: "MediaVault", layer: "Visual", bg: "bg-blue-900", height: "700px", width: "2770px" } },
                        SonicScape: { title: "SonicScape™ Audio Scroll", intro: "Immersive audio experience with spatial sound design.", features: ["3D Audio Engine", "Adaptive Soundtracks", "Noise Cancellation"], pricing: ["Basic: $30/month", "Premium: $90/month"], metadata: { id: "SS-001", vault: "MediaVault", layer: "Audio", bg: "bg-purple-900", height: "700px", width: "2770px" } }
                    }
                },
                // Comprehensive sectorList from previous admin portal code
                sectorList: {
                    "agriculture": "🌱 Agriculture & Biotech", "fsf": "🥦 Food, Soil & Farming",
                    "banking": "🏦 Banking & Finance", "creative": "🖋️ Creative Tech",
                    "logistics": "📦 Logistics & Packaging", "education": "📚 Education & IP",
                    "fashion": "✂ Fashion & Identity", "gaming": "🎮 Gaming & Simulation",
                    "health-hygiene": "🧴 Health & Hygiene", "housing": "🏛️ Housing & Infrastructure",
                    "justice": "⚖ Justice & Ethics", "knowledge": "🧠 Knowledge & Archives",
                    "micromesh": "☰ Micro-Mesh Logistics", "media": "🎬 Motion, Media & Sonic",
                    "nutrition": "✿ Nutrition & Food Chain", "packaging": "📦 Packaging & Materials",
                    "quantum": "✴️ Quantum Protocols", "ritual": "☯ Ritual & Culture",
                    "saas": "🔑 SaaS & Licensing", "trade": "🧺 Trade Systems",
                    "utilities": "🔋 Utilities & Energy", "voice": "🎙️️ Voice & Audio",
                    "webless": "📡 Webless Tech & Nodes", "nft": "🔁 NFT & Ownership",
                    "zerowaste": "♻️ Zero Waste", "professional": "🧾 Professional Services",
                    "ai-logic": "🧠 AI, Logic & Grid Systems", "mining": "⛏️ Mining & Resources",
                    "payroll": "💰 Payroll Core Systems", "wildlife": "🚁 Wildlife Sector",
                    "admin": "⚙️ Admin & Manual Sync Panel", "global-index": "🌐 Global Brand Index"
                },
            },
            admin: { // Data specifically for the admin portal and Baobab dashboard
                sectors: {
                    "ai-logic": { name: "🧠 AI, Logic & Grid", brands: ["OmniAI", "GridSync"], nodes: ["AI Core", "Neural Net", "Data Mesh"] },
                    "creative": { name: "🖋️ Creative Tech", brands: ["PixelFlow", "SonicWave"], nodes: ["Render Engine", "Audio Synth"] },
                    "logistics": { name: "📦 Logistics & Packaging", brands: ["CrateLogic", "PackChain", "SortFleet", "RouteMesh", "LogiStack"], nodes: ["GPS Tracker", "Fleet Manager"] },
                    "education-ip": { name: "📚 Education & IP", brands: ["EduNest", "FormFlex"], nodes: ["Curriculum Builder", "License Tracker"] },
                    "fashion": { name: "✂️ Fashion & Identity", brands: ["StyleSync", "FabricFlow"], nodes: ["Design Studio", "Material Trace"] },
                    "gaming": { name: "🎮 Gaming & Simulation", brands: ["GameForge", "SimulateX"], nodes: ["Physics Engine", "Render Farm"] },
                    "health": { name: "🧠 Health & Hygiene", brands: ["MedVault", "CleanCast"], nodes: ["Diagnostic AI", "Patient Portal"] },
                    "housing": { name: "🏗️ Housing & Infrastructure", brands: ["EcoBuild", "SmartHomeOS"], nodes: ["Modular Design", "Energy Monitor"] },
                    "justice": { name: "⚖ Justice & Ethics", brands: ["LawLedger", "EthicShield"], nodes: ["Case Tracker", "Compliance Bot"] },
                    "knowledge": { name: "📖 Knowledge & Archives", brands: ["InfoVault", "ArchiveFlow"], nodes: ["Knowledge Graph", "Document Index"] },
                    "micromesh": { name: "☰ Micro-Mesh Logistics", brands: ["MicroLogix", "NanoRoute"], nodes: ["Tiny Package", "Drone Delivery"] },
                    "media": { name: "🎬 Motion, Media & Sonic", brands: ["VisualPulse", "SonicScape"], nodes: ["Video Editor", "Audio Mixer"] },
                    "nutrition": { name: "✿ Nutrition & Food Chain", brands: ["NutriFlow", "FarmTrack"], nodes: ["Recipe Optimizer", "Crop Monitor"] },
                    "packaging": { name: "📦 Packaging & Materials", brands: ["PackSmart", "EcoWrap"], nodes: ["Material Optimizer", "Recycle Trace"] },
                    "quantum": { brands: ["QuantumLink", "EntangleOS"], nodes: ["Qubit Manager", "Secure Comm"] },
                    "ritual": { brands: ["AuraFlow", "SpiritWeave"], nodes: ["Ceremony Guide", "Community Hub"] },
                    "saas": { brands: ["CloudFlow", "AppStack"], nodes: ["Subscription Manager", "API Gateway"] },
                    "trade": { brands: ["TradeLink", "MarketPulse"], nodes: ["Supply Chain", "Demand Predictor"] },
                    "utilities": { brands: ["PowerGrid", "WaterFlow"], nodes: ["Smart Meter", "Resource Opt"] },
                    "voice": { brands: ["VoiceSynth", "AudioSense"], nodes: ["Speech Rec", "Sound Analysis"] },
                    "webless": { brands: ["MeshNode", "OffGridLink"], nodes: ["Decentral Node", "Secure Tunnel"] },
                    "nft": { brands: ["ArtChain", "TokenForge"], nodes: ["Minting Platform", "Royalty Engine"] },
                    "education-youth": { brands: ["KidGenius", "FutureLearn"], nodes: ["Interactive Lessons", "Skill Tracker"] },
                    "zerowaste": { brands: ["RecycleFlow", "CompostGen"], nodes: ["Waste Sorter", "Bio-Digester"] },
                    "professional": { brands: ["ProServe", "ConsultHub"], nodes: ["Client Manager", "Project Tracker"] },
                    "payroll-mining": { name: "🪙 Payroll Mining & Accounting", brands: ["MinePay", "CryptoLedger"], nodes: ["Payroll Automator", "Mining Pool"] },
                    "wildlife": { name: "🦁 Wildlife & Habitat", brands: ["WildGuard", "EcoSense"], nodes: ["Animal Tracker", "Habitat Monitor"] },
                    "food-soil-farming": { name: "🥦 Food, Soil & Farming", brands: ["FarmFlow", "SoilSense"], nodes: ["Crop Yield Monitor", "Soil Health Analyzer"] },
                    "agriculture-biotech": { name: "🌾 Agriculture & Biotech", brands: ["BioCrop", "GeneHarvest"], nodes: ["Biotech Lab", "Seed Registry"] },
                    "banking-finance": { name: "🏦 Banking & Finance", brands: ["CoinFlow", "LedgerPro"], nodes: ["Transaction Monitor", "Smart Contract Auditor"] }
                },
                globalMetrics: {
                    totalBrands: 7038, coreBrands: 168, totalNodes: 700, totalPages: 780,
                },
                brandDistribution: {
                    labels: ['Finance', 'Logistics', 'Health', 'Education', 'Agriculture', 'AI', 'Other'],
                    data: [25, 22, 18, 15, 13, 11, 64]
                },
                sovereignScrolls: {
                    generated: 1171, total: 7038,
                },
                techStack: {
                    'tech-vercel': {
                        title: 'Vercel: Frontend & Serverless', icon: '🚀',
                        details: 'Vercel is the primary Continuous Deployment platform, connecting to GitHub to build and deploy all FAA.zone web projects. It handles static frontend assets and dynamic Node.js serverless functions, enabling rapid, scalable, and automated deployments.',
                        features: ['Automatic Deployments from Git', 'Scalable Serverless Functions', 'Custom Domain Management', 'Secure Environment Variables', 'Instant Preview Deployments']
                    },
                    'tech-cloudflare': {
                        title: 'Cloudflare: DNS, Edge & Security', icon: '☁️',
                        details: 'Cloudflare acts as the global performance and security layer. It manages all DNS routing and protects the ecosystem with its WAF, DDoS mitigation, and global CDN, ensuring high availability and fast load times worldwide.',
                        features: ['Global CDN Caching', 'Authoritative DNS Management', 'Web Application Firewall (WAF)', 'Universal SSL/TLS Encryption', 'Cloudflare Workers (Edge Computing)']
                    },
                    'tech-zoho': {
                        title: 'Zoho: Email & Business APIs', icon: '✉️',
                        details: 'Zoho serves as the central nervous system for business operations. It handles all corporate email via Zoho Mail and provides a rich suite of APIs (CRM, Books, Forms) for automating client management, billing, and communication workflows.',
                        features: ['Enterprise Email Hosting (SMTP)', 'OAuth 2.0 for Authentication', 'CRM and Forms API for Data Sync', 'DMARC, SPF, DKIM for Email Security', 'Centralized User Management']
                    },
                    'tech-hetzner': {
                        title: 'Hetzner: Backend & Storage', icon: '💾',
                        details: 'Hetzner provides the foundational layer for persistent data, heavy computation, and specialized backend services. It offers cost-effective, high-performance dedicated resources that complement the serverless architecture.',
                        features: ['Dedicated Cloud Servers', 'Persistent Block Storage Volumes', 'Scalable Object Storage', 'Private Networks & Firewalls', 'Load Balancers for High Availability']
                    }
                },
                licenseLedger: {
                    growth: {
                        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                        datasets: [
                            { label: 'Tier 1 - Retail', data: [120, 140, 155, 178, 190, 204], borderColor: '#4f46e5', tension: 0.3, backgroundColor: 'rgba(79, 70, 229, 0.1)' },
                            { label: 'Tier 2 - GovMesh', data: [75, 89, 94, 102, 110, 117], borderColor: '#10b981', tension: 0.3, backgroundColor: 'rgba(16, 185, 129, 0.1)' },
                            { label: 'Tier 3 - Enterprise', data: [62, 64, 70, 73, 78, 80], borderColor: '#f97316', tension: 0.3, backgroundColor: 'rgba(249, 115, 22, 0.1)' }
                        ]
                    },
                    clauses: {
                        labels: ['IP Clause 14A', 'Sovereign Export A3', 'Experimental Tag X7', 'Tier-Sync Accord', 'VaultMesh Override'],
                        data: [722, 519, 312, 455, 188]
                    }
                },
                pulseChartData: {
                    labels: Array.from({length: 30}, (_, i) => `Day ${i + 1}`),
                    datasets: [
                        {
                            label: 'Sync Success Rate (%)',
                            data: Array.from({length: 30}, () => Math.floor(Math.random() * 20) + 80),
                            borderColor: '#0071e3',
                            backgroundColor: 'rgba(0, 113, 227, 0.1)',
                            fill: true,
                            tension: 0.4
                        },
                        {
                            label: 'New Node Registrations',
                            data: Array.from({length: 30}, () => Math.floor(Math.random() * 10) + 5),
                            borderColor: '#30d158',
                            backgroundColor: 'rgba(48, 209, 88, 0.1)',
                            fill: true,
                            tension: 0.4
                        }
                    ]
                }
            }
        };

        // Initialize Firebase
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
        const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {};

        let app;
        let db;
        let auth;
        let userId;
        let isAuthReady = false;

        // Ensure Firebase is initialized only once
        if (Object.keys(firebaseConfig).length > 0) {
            app = initializeApp(firebaseConfig);
            db = getFirestore(app);
            auth = getAuth(app);

            onAuthStateChanged(auth, async (user) => {
                if (user) {
                    userId = user.uid;
                } else {
                    // Sign in anonymously if no user is authenticated
                    try {
                        const anonUserCredential = await signInAnonymously(auth);
                        userId = anonUserCredential.user.uid;
                    } catch (error) {
                        console.error("Error signing in anonymously:", error);
                        // Fallback to a random UUID if anonymous sign-in fails
                        userId = crypto.randomUUID();
                    }
                }
                isAuthReady = true;
                console.log("Firebase Auth ready. User ID:", userId);
                // Display userId in the UI if needed
                const userIdDisplayElement = document.getElementById('userIdDisplay');
                if (userIdDisplayElement) {
                    userIdDisplayElement.textContent = `Current User ID: ${userId}`;
                }

                // Now that auth is ready, set up Firestore listeners or perform operations
                setupFirestoreListeners();
            });

            // Use the initial custom auth token if available
            if (typeof __initial_auth_token !== 'undefined' && __initial_auth_token) {
                signInWithCustomToken(auth, __initial_auth_token).catch((error) => {
                    console.error("Error signing in with custom token:", error);
                });
            }
        } else {
            // If firebaseConfig is not provided (e.g., local development without Canvas)
            console.warn("Firebase config not found. Running in a limited mode without Firestore persistence.");
            userId = crypto.randomUUID(); // Generate a local unique ID
            isAuthReady = true;
            const userIdDisplayElement = document.getElementById('userIdDisplay');
            if (userIdDisplayElement) {
                userIdDisplayElement.textContent = `Current User ID (local): ${userId}`;
            }
        }

        // --- Firestore related functions ---
        /**
         * IMPORTANT: For Firestore to work correctly, you need to set up security rules in your Firebase project.
         * The rules determine who can read and write data to your database.
         *
         * For this application, which uses user-specific data and potentially public data,
         * here are example security rules you would add to your Firestore database in the Firebase console:
         *
         * rules_version = '2';
         * service cloud.firestore {
         * match /databases/{database}/documents {
         *
         * // Rule for private user data (e.g., for `/artifacts/{appId}/users/{userId}/brands`)
         * // Allows read and write access only if the authenticated user's UID matches the {userId} in the path.
         * match /artifacts/{appId}/users/{userId}/{documents=**} {
         * allow read, write: if request.auth != null && request.auth.uid == userId;
         * }
         *
         * // Rule for public data (if you had any, e.g., `/artifacts/{appId}/public/data/someCollection`)
         * // Allows read and write access for any authenticated user.
         * match /artifacts/{appId}/public/data/{documents=**} {
         * allow read, write: if request.auth != null;
         * }
         *
         * // If you want to allow unauthenticated reads (e.g., for public display without login),
         * // you would need a rule like this for *specific* public collections:
         * // match /publiclyAccessibleCollection/{documentId} {
         * //   allow read: true;
         * // }
         * }
         * }
         *
         * Make sure to publish these rules in your Firebase project's Firestore section.
         * If you are still encountering "Missing or insufficient permissions" after applying these rules,
         * double-check:
         * 1. The exact path in your Firestore rules matches the path generated by the app (e.g., `artifacts/${appId}/users/${userId}/brands`).
         * 2. The Firebase project ID configured for this Canvas environment matches your actual Firebase project ID.
         * 3. The rules are published and have taken effect.
         * 4. There are no other conflicting rules that might deny access.
         * 5. The user is indeed authenticated (check `userIdDisplay` and console logs for `Firebase Auth ready. User ID:`).
         */
        async function setupFirestoreListeners() {
            if (!isAuthReady) {
                console.warn("Firestore listeners not set up: Authentication not ready.");
                return;
            }
            if (!db) {
                console.error("Firestore is not initialized, cannot set up listeners.");
                return;
            }

            // Example: Listen for changes in 'brands' collection for the current user
            // Path: /artifacts/{appId}/users/{userId}/brands
            try {
                const brandsCollectionRef = collection(db, `artifacts/${appId}/users/${userId}/brands`);
                onSnapshot(brandsCollectionRef, (snapshot) => {
                    const brandsData = {};
                    snapshot.docs.forEach(doc => {
                        brandsData[doc.id] = doc.data();
                    });
                    console.log("Real-time brands data:", brandsData);
                    loadBrandDashboard(brandsData); // Update the dashboard with real-time data
                }, (error) => {
                    console.error("Error listening to brands collection:", error);
                    document.getElementById('adminStatus').textContent = `Error loading brands: ${error.message}. Check Firebase Security Rules.`;
                });
            } catch (error) {
                console.error("Could not set up Firestore listener for brands:", error);
                document.getElementById('adminStatus').textContent = `Error initializing brand listener: ${error.message}. Check Firebase setup.`;
            }
        }

        async function addBrandToFirestore(sector, brandName, subnodes) {
            if (!isAuthReady) {
                console.warn("Cannot add brand: Authentication not ready.");
                document.getElementById('adminStatus').textContent = "Error: Authentication not ready.";
                return;
            }
            if (!db) {
                console.error("Firestore is not initialized.");
                document.getElementById('adminStatus').textContent = "Error: Firestore not initialized.";
                return;
            }

            const statusElement = document.getElementById('adminStatus');
            try {
                statusElement.textContent = "Adding brand...";
                const brandsCollectionRef = collection(db, `artifacts/${appId}/users/${userId}/brands`);
                await addDoc(brandsCollectionRef, {
                    sector: sector,
                    brandName: brandName,
                    subnodes: subnodes.split(',').map(s => s.trim()).filter(s => s.length > 0),
                    timestamp: new Date().toISOString()
                });
                statusElement.textContent = `Brand '${brandName}' added successfully!`;
                console.log(`Brand '${brandName}' added to Firestore.`);
            } catch (error) {
                statusElement.textContent = `Error adding brand: ${error.message}. Please check Firebase Security Rules.`;
                console.error("Error adding brand to Firestore:", error);
            }
        }

        // --- Rhythmic Canvas Glyph Drawing Logic (Hero Background) ---
        const canvas = document.getElementById('rhythmicCanvas');
        const ctx = canvas ? canvas.getContext('2d') : null;
        let animationFrameId;

        function resizeCanvas() {
            if (!canvas) return;
            canvas.width = canvas.offsetWidth;
            canvas.height = canvas.offsetHeight;
            if (canvas.width < 300) canvas.width = 300;
            if (canvas.height < 150) canvas.height = 150;
            lineAmplitude = canvas.height / 4;
        }

        let time = 0;
        const numLines = 50;
        let lineAmplitude;
        const lineFrequency = 0.05;
        const lineSpeed = 0.005;

        function drawGlyph() {
            if (!ctx) return;
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = 'rgba(10, 10, 10, 0.0)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            time += lineSpeed;

            for (let i = 0; i < numLines; i++) {
                ctx.beginPath();
                const offset = i * (Math.PI * 2 / numLines);
                
                const colorHue = (time * 100 + i * 5) % 360;
                ctx.strokeStyle = `hsla(${colorHue}, 80%, 60%, 0.7)`;
                
                ctx.lineWidth = 1.5;

                for (let x = 0; x < canvas.width; x += 5) {
                    const y = Math.sin(x * lineFrequency + time + offset) * (lineAmplitude * (Math.sin(time * 0.1 + i * 0.1) * 0.5 + 0.5)) + canvas.height / 2;
                    if (x === 0) {
                        ctx.moveTo(x, y);
                    } else {
                        ctx.lineTo(x, y);
                    }
                }
                ctx.stroke();
            }

            animationFrameId = requestAnimationFrame(drawGlyph);
        }

        // --- Chart.js Instances Storage ---
        let initializedCharts = {}; // Stores all Chart.js instances across the portal

        // --- Functions to manage main content views ---
        function showMainContentView(viewId) {
            const mainContentViews = document.querySelectorAll('.content-section');
            mainContentViews.forEach(view => {
                view.classList.remove('active'); // Hide all views
            });

            const targetView = document.getElementById(viewId);
            if (targetView) {
                targetView.classList.add('active'); // Show the target view
                targetView.scrollIntoView({ behavior: 'smooth', block: 'start' }); // Scroll to view

                // Re-render charts for the active view to ensure they appear correctly
                renderChartsForView(viewId);
            } else {
                console.error(`Error: Main content view with ID '${viewId}' not found.`);
            }

            // Update sidebar active state (for admin portal sidebar)
            const adminSidebarLinks = document.querySelectorAll('#admin-portal-sidebar .menu-item');
            adminSidebarLinks.forEach(link => {
                link.classList.remove('active');
                link.classList.remove('menu-item-active'); // Ensure both classes are removed
                link.closest('ul')?.querySelectorAll('.submenu-content.open').forEach(sub => sub.classList.remove('open')); // Close all submenus
            });
            // Handle top-level admin sidebar links that are not submenus
            const clickedAdminSidebarLink = document.querySelector(`#admin-portal-sidebar .menu-item[data-admin-view="${viewId}"]`);
            if (clickedAdminSidebarLink) {
                 clickedAdminSidebarLink.classList.add('active');
            }

            // Handle dropdown links within the admin sidebar
            const clickedAdminDropdownLink = document.querySelector(`#admin-portal-sidebar .menu-dropdown-item[data-view-id="${viewId}"]`);
            if (clickedAdminDropdownLink) {
                clickedAdminDropdownLink.classList.add('active'); // Activate the specific dropdown item
                let parentButton = clickedAdminDropdownLink.closest('.submenu-content')?.previousElementSibling;
                if (parentButton && parentButton.classList.contains('menu-item')) {
                    parentButton.classList.add('active'); // Activate its parent button
                    parentButton.nextElementSibling.classList.add('open'); // Open its submenu
                }
            }


            // Toggle visibility of the main admin portal container
            const adminPortalSection = document.getElementById('admin-portal-section');
            if (adminPortalSection) {
                if (viewId.startsWith('admin-') || viewId === 'admin-portal-section') {
                    adminPortalSection.classList.add('active'); // Makes the admin portal visible and flex
                    // Scroll admin portal's main content area to top if it's the target
                    const adminMainContentArea = document.getElementById('admin-portal-main-content-area');
                    if (adminMainContentArea) {
                        adminMainContentArea.scrollTop = 0;
                    }
                } else {
                    adminPortalSection.classList.remove('active');
                }
            }
        }


        function renderChartsForView(viewId) {
            // Destroy all existing charts before rendering new ones
            for (const chartId in initializedCharts) {
                if (initializedCharts[chartId]) {
                    initializedCharts[chartId].destroy();
                    initializedCharts[chartId] = null;
                }
            }

            // Render charts specific to the requested view
            switch (viewId) {
                case 'innovate-connect-thrive':
                    // No charts here, just static content
                    break;
                case 'shareprice':
                    updateSharePrice(); // Ensure this updates
                    break;
                case 'seedwave':
                    const brandChartCtx = document.getElementById('brandChart')?.getContext('2d');
                    if (brandChartCtx) {
                        initializedCharts.brandChart = new Chart(brandChartCtx, {
                            type: 'line',
                            data: {
                                labels: appData.fruitful.brandGrowth.labels,
                                datasets: [{
                                    label: 'Treaty Brands Activated',
                                    data: appData.fruitful.brandGrowth.data,
                                    borderWidth: 2,
                                    borderColor: 'var(--primary-color)',
                                    tension: 0.4,
                                    fill: true,
                                    backgroundColor: 'rgba(0, 113, 227, 0.1)',
                                    pointRadius: 4,
                                    pointBackgroundColor: 'var(--primary-color)',
                                    pointBorderColor: '#fff',
                                    pointHoverRadius: 6
                                }]
                            },
                            options: {
                                responsive: true,
                                maintainAspectRatio: false,
                                scales: {
                                    y: { beginAtZero: true, grid: { color: 'var(--border-color-light)', drawBorder: false }, ticks: { color: 'var(--muted-text-light)' } },
                                    x: { grid: { color: 'var(--border-color-light)', drawBorder: false }, ticks: { color: 'var(--muted-text-light)' } }
                                },
                                plugins: { legend: { display: false, labels: { color: '#424245' } } }
                            }
                        });
                    }
                    break;
                case 'admin-quick-view':
                    // Render admin quick view specific charts/elements
                    populateAdminSectorSelect();
                    // loadBrandDashboard is now primarily driven by the Firestore listener
                    // loadBrandDashboard(appData.admin.sectors); // Removed direct call to avoid conflict/redundancy with Firestore listener
                    // The pulseChart is inside this section, render it here.
                    const adminPulseCtx = document.getElementById('pulseChart')?.getContext('2d');
                    if (adminPulseCtx) {
                        initializedCharts.adminPulseChart = new Chart(adminPulseCtx, {
                            type: 'line',
                            data: appData.admin.pulseChartData,
                            options: {
                                responsive: true, maintainAspectRatio: false,
                                plugins: { legend: { position: 'top', labels: { color: 'var(--muted-text-light)' } } },
                                scales: {
                                    y: { beginAtZero: true, ticks: { color: 'var(--muted-text-light)' }, grid: { color: 'var(--border-color-light)' } },
                                    x: { ticks: { color: 'var(--muted-text-light)' }, grid: { display: false } }
                                }
                            }
                        });
                    }
                    break;
                case 'admin-global-dashboard':
                    // Populate metrics
                    document.getElementById('dashboard-metric-total-brands').textContent = appData.admin.globalMetrics.totalBrands.toLocaleString();
                    document.getElementById('dashboard-metric-core-brands').textContent = appData.admin.globalMetrics.coreBrands.toLocaleString();
                    document.getElementById('dashboard-metric-total-nodes').textContent = appData.admin.globalMetrics.totalNodes.toLocaleString();
                    document.getElementById('dashboard-metric-total-pages').textContent = appData.admin.globalMetrics.totalPages.toLocaleString() + '+';

                    // Ecosystem Pulse Monitor Chart
                    const globalPulseCtx = document.getElementById('globalPulseChart')?.getContext('2d');
                    if (globalPulseCtx) {
                        initializedCharts.globalPulseChart = new Chart(globalPulseCtx, {
                            type: 'line',
                            data: appData.admin.pulseChartData, // Reuse pulseData for global pulse
                            options: {
                                responsive: true, maintainAspectRatio: false,
                                plugins: { legend: { position: 'bottom', labels: { font: { size: 12, family: 'Inter' }, color: 'var(--baobab-slate-text-dark)' } } },
                                scales: {
                                    y: { beginAtZero: true, ticks: { color: 'var(--baobab-slate-text-dark)' }, grid: { color: 'var(--baobab-slate-medium)' } },
                                    x: { ticks: { color: 'var(--baobab-slate-text-dark)' }, grid: { display: false } }
                                }
                            }
                        });
                    }

                    // Brand Distribution Chart
                    const brandDistributionCtx = document.getElementById('brandDistributionChart')?.getContext('2d');
                    if (brandDistributionCtx) {
                        initializedCharts.brandDistributionChart = new Chart(brandDistributionCtx, {
                            type: 'doughnut',
                            data: {
                                labels: appData.admin.brandDistribution.labels,
                                datasets: [{
                                    label: 'Core Brands',
                                    data: appData.admin.brandDistribution.data,
                                    backgroundColor: ['#4f46e5', '#10b981', '#f59e0b', '#ef4444', '#8b5cf6', '#3b82f6', '#14b8a6'], // Using Tailwind colors
                                    hoverOffset: 4
                                }]
                            },
                            options: {
                                responsive: true, maintainAspectRatio: false,
                                plugins: { legend: { position: 'bottom', labels: { font: { size: 12, family: 'Inter' }, color: 'var(--baobab-slate-text-dark)' } } },
                                scales: { x: { display: false }, y: { display: false } }
                            }
                        });
                    }

                    // License Tier Growth Chart
                    const tierGrowthCtx = document.getElementById('tierGrowthChart')?.getContext('2d');
                    if (tierGrowthCtx) {
                        initializedCharts.tierGrowthChart = new Chart(tierGrowthCtx, {
                            type: 'bar',
                            data: appData.admin.licenseLedger.growth,
                            options: {
                                responsive: true, maintainAspectRatio: false,
                                plugins: { legend: { position: 'bottom', labels: { font: { size: 12, family: 'Inter' }, color: 'var(--baobab-slate-text-dark)' } } },
                                scales: {
                                    x: { stacked: true, ticks: { color: 'var(--baobab-slate-text-dark)' }, grid: { display: false } },
                                    y: { stacked: true, ticks: { color: 'var(--baobab-slate-text-dark)' }, grid: { color: 'var(--baobab-slate-medium)' } }
                                }
                            }
                        });
                    }

                    // License Clause Allocation Chart
                    const clauseAllocationCtx = document.getElementById('clauseAllocationChart')?.getContext('2d');
                    if (clauseAllocationCtx) {
                        initializedCharts.clauseAllocationChart = new Chart(clauseAllocationCtx, {
                            type: 'polarArea',
                            data: {
                                labels: appData.admin.licenseLedger.clauses.labels,
                                datasets: [{
                                    label: 'Clause Allocations',
                                    data: appData.admin.licenseLedger.clauses.data,
                                    backgroundColor: ['#4f46e5B3', '#10b981B3', '#f59e0bB3', '#ef4444B3', '#8b5cf6B3'],
                                }],
                            },
                            options: {
                                responsive: true, maintainAspectRatio: false,
                                plugins: { legend: { position: 'bottom', labels: { font: { size: 12, family: 'Inter' }, color: 'var(--baobab-slate-text-dark)' } } },
                                scales: { r: { grid: { color: 'var(--baobab-slate-medium)' } } }
                            }
                        });
                    }
                    
                    // Setup Tech Stack details and Ecosystem Explorer
                    setupTechStackInteraction();
                    // Select first tech pillar by default when dashboard loads
                    document.querySelector('#admin-global-dashboard .tech-pillar')?.click(); 
                    populateEcosystemSectorFilter();
                    displayEcosystemSectorInfo(document.getElementById('sector-filter')?.value || Object.keys(appData.admin.sectors)[0]);
                    updateSovereignScrollsProgressBar();
                    break;
                default:
                    // Any other views that might have charts in the future
                    break;
            }
        }


        // --- Core Application Initialization and Event Handling ---
        document.addEventListener('DOMContentLoaded', function() {
            // --- Announcement Bar setup ---
            const announcementBar = document.getElementById('announcement-bar');
            const closeAnnouncementBtn = announcementBar?.querySelector('.close-btn');
            const announcementLink = announcementBar?.querySelector('.announcement-link');
            let announcementHidden = localStorage.getItem('announcementHidden') === 'true';

            function setupAnnouncementBar() {
                if (announcementBar) {
                    if (announcementHidden) {
                        announcementBar.classList.add('hidden');
                        document.documentElement.style.setProperty('--announcement-bar-height', '0px');
                    } else {
                        announcementBar.classList.remove('hidden');
                        // Set a dynamic CSS variable for the height of the announcement bar
                        // This allows the sticky header to adjust its 'top' property
                        const resizeObserver = new ResizeObserver(entries => {
                            for (let entry of entries) {
                                if (entry.target === announcementBar) {
                                    document.documentElement.style.setProperty('--announcement-bar-height', `${entry.contentRect.height}px`);
                                    updateHeaderPosition();
                                }
                            }
                        });
                        resizeObserver.observe(announcementBar);
                    }
                }

                if (closeAnnouncementBtn) {
                    closeAnnouncementBtn.addEventListener('click', () => {
                        if (announcementBar) {
                            announcementBar.classList.add('hidden');
                            localStorage.setItem('announcementHidden', 'true');
                            document.documentElement.style.setProperty('--announcement-bar-height', '0px');
                            updateHeaderPosition();
                        }
                    });
                }

                if (announcementLink) {
                    announcementLink.addEventListener('click', function(e) {
                        e.preventDefault();
                        const viewId = this.dataset.viewId;
                        if (viewId) {
                            // If it's an admin dashboard view, first activate admin-portal-section
                            showMainContentView('admin-portal-section');
                            // Then activate the specific admin dashboard view within it.
                            document.querySelectorAll('.admin-view-panel').forEach(panel => panel.classList.remove('active'));
                            const targetAdminView = document.getElementById(viewId);
                            if(targetAdminView) {
                                targetAdminView.classList.add('active');
                                // Also activate the correct tab in the admin top nav
                                document.querySelectorAll('.admin-portal-container .top-nav a').forEach(tab => tab.classList.remove('active'));
                                document.querySelector(`.admin-portal-container .top-nav a[data-admin-view="${viewId}"]`)?.classList.add('active');
                            }
                            // Render charts for the newly active view
                            renderChartsForView(viewId);

                            // Close the announcement bar after clicking the link
                            if (announcementBar) {
                                announcementBar.classList.add('hidden');
                                localStorage.setItem('announcementHidden', 'true');
                                document.documentElement.style.setProperty('--announcement-bar-height', '0px');
                                updateHeaderPosition();
                            }
                        }
                    });
                }
            }

            function updateHeaderPosition() {
                const header = document.querySelector('header.main-header');
                const announcementHeight = announcementHidden ? 0 : (announcementBar?.offsetHeight || 0);
                document.documentElement.style.setProperty('--announcement-bar-height', `${announcementHeight}px`);
                document.documentElement.style.setProperty('--header-height', `${header?.offsetHeight || 0}px`);
            }

            // Initial setup for the rhythmic canvas
            if (canvas) {
                resizeCanvas();
                drawGlyph();
            }

            // Setup the announcement bar and header position
            setupAnnouncementBar();
            // Header position needs to be updated after announcement bar is set up
            updateHeaderPosition(); 

            // Setup Mobile Hamburger Menu Toggle
            const hamburgerBtn = document.getElementById('hamburger-btn');
            const adminPortalSidebar = document.getElementById('admin-portal-sidebar');
            const mobileOverlay = document.getElementById('mobile-overlay');

            if (hamburgerBtn && adminPortalSidebar && mobileOverlay) {
                hamburgerBtn.addEventListener('click', () => {
                    adminPortalSidebar.classList.add('active'); // Show sidebar
                    mobileOverlay.classList.add('active'); // Show overlay
                    document.body.style.overflow = 'hidden'; // Prevent body scroll
                });

                mobileOverlay.addEventListener('click', () => {
                    adminPortalSidebar.classList.remove('active');
                    mobileOverlay.classList.remove('active');
                    document.body.style.overflow = ''; // Restore body scroll
                });
            }


            // Setup Main Page Nav Links (in the global header)
            const globalNavLinks = document.querySelectorAll('.main-header .logo-link, .main-header .nav-actions a');
            globalNavLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    const href = this.getAttribute('href');
                    if (href && href.startsWith('#')) {
                        e.preventDefault();
                        const viewId = href.substring(1);
                        showMainContentView(viewId);
                    }
                });
            });

            // Setup Admin Portal Sidebar Links
            const adminSidebarLinks = document.querySelectorAll('#admin-portal-sidebar .menu-link, #admin-portal-sidebar .menu-dropdown-item, #admin-portal-sidebar .menu-item[data-admin-view]');
            adminSidebarLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    const href = this.getAttribute('href');
                    const viewId = this.dataset.viewId || this.dataset.adminView; // Get from data-view-id or data-admin-view

                    if (viewId && document.getElementById(viewId)) { // If it's an internal view
                        e.preventDefault(); // Prevent default link behavior for internal views
                        showMainContentView(viewId);
                        // Close mobile sidebar if open
                        if (window.innerWidth < 1024 && adminPortalSidebar.classList.contains('active')) {
                            adminPortalSidebar.classList.remove('active');
                            mobileOverlay.classList.remove('active');
                            document.body.style.overflow = '';
                        }
                    }
                    // For external links (e.g., Homemart.africa), do nothing special, let browser handle them
                });
            });

            // Setup Admin Portal Top Tabs
            const adminTopNavLinks = document.querySelectorAll('.admin-portal-container .top-nav a');
            adminTopNavLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const viewId = this.dataset.adminView;
                    // First ensure the admin portal is active, then show the specific view
                    showMainContentView('admin-portal-section'); // Activate parent admin section
                    // Then show the specific view within it
                    const targetAdminView = document.getElementById(viewId);
                    if (targetAdminView) {
                        document.querySelectorAll('.admin-view-panel').forEach(panel => panel.classList.remove('active'));
                        targetAdminView.classList.add('active');
                    }
                    // Update active class for the tabs
                    adminTopNavLinks.forEach(tab => tab.classList.remove('active'));
                    this.classList.add('active');

                    // Re-render charts for the specific admin sub-view
                    renderChartsForView(viewId);
                });
            });


            // Initial page load state: Show "Innovate. Connect. Thrive." by default
            // If there's a hash in the URL, try to navigate to that section
            const initialHash = window.location.hash.substring(1);
            if (initialHash) {
                if (initialHash.startsWith('admin-')) {
                    // If it's an admin dashboard view, first activate admin-portal-section
                    // Then activate the specific admin dashboard view within it.
                    showMainContentView('admin-portal-section');
                    document.querySelectorAll('.admin-view-panel').forEach(panel => panel.classList.remove('active'));
                    const targetAdminView = document.getElementById(initialHash);
                    if(targetAdminView) {
                        targetAdminView.classList.add('active');
                        // Also activate the correct tab in the admin top nav
                        document.querySelectorAll('.admin-portal-container .top-nav a').forEach(tab => tab.classList.remove('active'));
                        document.querySelector(`.admin-portal-container .top-nav a[data-admin-view="${initialHash}"]`)?.classList.add('active');
                    }
                     // Render charts for the initially active admin view
                    renderChartsForView(initialHash);

                } else {
                    showMainContentView(initialHash); // Show other main sections
                }
            } else {
                showMainContentView('innovate-connect-thrive'); // Default landing
            }

            // Also ensure the admin portal sidebar's content (dropdowns etc.) is populated
            populateAdminSectorSelect();
            // The loadBrandDashboard function is called by the Firestore listener for real-time updates.
            // If Firestore is not enabled, or for initial load before listener fires, call it once with mock data:
            if (!db) {
                loadBrandDashboard(appData.admin.sectors);
            }
            

            // Tech Stack interaction needs to be set up always, as it's within Global Dashboard
            setupTechStackInteraction();
            populateEcosystemSectorFilter();
            updateSovereignScrollsProgressBar(); // Also for initial values

            // Admin Portal Quick View - Add Brand button
            const addBrandBtn = document.getElementById('add-brand-btn');
            if (addBrandBtn) {
                addBrandBtn.addEventListener('click', () => {
                    const sectorSelect = document.getElementById('sectorSelect');
                    const brandInput = document.getElementById('brandInput');
                    const subnodesInput = document.getElementById('subnodesInput');

                    const sector = sectorSelect.value;
                    const brandName = brandInput.value;
                    const subnodes = subnodesInput.value;

                    if (sector && brandName) {
                        addBrandToFirestore(sector, brandName, subnodes);
                        brandInput.value = '';
                        subnodesInput.value = '';
                    } else {
                        document.getElementById('adminStatus').textContent = "Please fill in Sector and Brand Name.";
                    }
                });
            }
        });

        // --- Vault Navigation Logic ---
        window.loadTerminal = function(url) {
            const vaultFrame = document.getElementById('vault-frame');
            if (vaultFrame) {
                vaultFrame.src = url;
            }
            document.querySelectorAll('.terminal-btn').forEach(btn => {
                const btnOnClickString = btn.getAttribute('onclick');
                if (btnOnClickString && btnOnClickString.includes(url)) {
                    btn.classList.add('ring');
                } else {
                    btn.classList.remove('ring');
                }
            });
            console.log("🧬 Terminal loaded:", url);
        };
        
        // --- FAA Share Signal (mock price update) ---
        function updateSharePrice() {
            const mockPrice = (80 + Math.random() * 10).toFixed(2);
            const priceElement = document.getElementById('price');
            const timestampElement = document.getElementById('timestamp');
            if (priceElement) priceElement.innerText = `$${mockPrice}`;
            if (timestampElement) timestampElement.innerText = new Date().toLocaleTimeString();
        }
        // This interval runs independently, as shareprice section can be hidden.
        // It should update even if the section is not in view
        setInterval(updateSharePrice, 5000); 

        // --- Sector Glyphs and Iframe Loading (from main page) ---
        const sectorGlyphsContainer = document.getElementById('sector-glyphs-container');
        if (sectorGlyphsContainer) {
            // Clear for dynamic population, but remove old listeners first
            Array.from(sectorGlyphsContainer.children).forEach(child => {
                const newChild = child.cloneNode(true);
                child.parentNode.replaceChild(newChild, child);
            });
            sectorGlyphsContainer.innerHTML = '';

            const sortedSectorSlugs = Object.keys(appData.fruitful.sectorList).sort((a, b) => {
                const nameA = appData.fruitful.sectorList[a];
                const nameB = appData.fruitful.sectorList[b];
                if (a === 'admin' || a === 'global-index') return 1;
                if (b === 'admin' || b === 'global-index') return -1;
                return nameA.localeCompare(nameB);
            });

            sortedSectorSlugs.forEach(slug => {
                if (slug !== 'admin' && slug !== 'global-index') {
                    const display = appData.fruitful.sectorList[slug];
                    const fileName = (slug === 'wildlife') ? 'dashboard.html' : 'index.html';
                    const url = `/sectors/${slug}/${fileName}`;
                    
                    const glyphLink = document.createElement('a');
                    glyphLink.href = url;
                    glyphLink.className = "glyph";
                    glyphLink.setAttribute('data-vault', slug);
                    glyphLink.innerHTML = display;

                    glyphLink.addEventListener('click', (e) => {
                        e.preventDefault();
                        const clickedSectorSlug = e.currentTarget.getAttribute('data-vault');
                        const iframeUrl = `/sectors/${clickedSectorSlug}/${(clickedSectorSlug === 'wildlife' ? 'dashboard.html' : 'index.html')}`;
                        const sectorContentContainer = document.getElementById('sector-content-container');

                        if (sectorContentContainer && iframeUrl) {
                            const loadingMessageText = appData.fruitful.sectorList[clickedSectorSlug] || clickedSectorSlug.charAt(0).toUpperCase() + clickedSectorSlug.slice(1).replace('-', ' ');
                            sectorContentContainer.innerHTML =
                                `<div class="text-gray-600 text-sm mb-2">🔄 Loading sector: ${loadingMessageText}...</div>
                                <iframe src="${iframeUrl}" class="w-full h-[900px] border-none rounded-xl bg-gray-100"></iframe>`;
                        } else if (sectorContentContainer) {
                            sectorContentContainer.innerHTML =
                                `<div class="text-red-500 text-sm mb-2">Error: Sector URL not found for ${clickedSectorSlug}.</div>`;
                        }
                    });
                    sectorGlyphsContainer.appendChild(glyphLink);
                }
            });
        }


        // --- Admin Portal Specifics (functions called from showMainContentView) ---

        // populateAdminSectorSelect (populates dropdown in Admin Quick View)
        function populateAdminSectorSelect() {
            const selectElement = document.getElementById('sectorSelect');
            if (selectElement) {
                selectElement.innerHTML = ''; // Clear existing options
                // Add a default blank option
                const defaultOption = document.createElement('option');
                defaultOption.value = "";
                defaultOption.textContent = "-- Select Sector --";
                selectElement.appendChild(defaultOption);

                const sortedSectorKeys = Object.keys(appData.admin.sectors).sort();
                sortedSectorKeys.forEach(sectorKey => {
                    const option = document.createElement('option');
                    option.value = sectorKey;
                    option.textContent = appData.admin.sectors[sectorKey].name || sectorKey;
                    selectElement.appendChild(option);
                });
            }
        }

        // loadBrandDashboard (renders the "Saved Brand Overview" in Admin Quick View)
        function loadBrandDashboard(brandsData) {
            const brandDashboardDiv = document.getElementById('brandDashboard');
            if (!brandDashboardDiv) return;

            brandDashboardDiv.innerHTML = ''; // Clear previous content

            if (Object.keys(brandsData).length === 0) {
                brandDashboardDiv.innerHTML = '<p class="text-gray-500">No brands saved yet. Use the form above to add some!</p>';
                return;
            }

            // Group brands by their sector for display
            const brandsBySector = {};
            for (const docId in brandsData) {
                const brand = brandsData[docId];
                if (!brandsBySector[brand.sector]) {
                    brandsBySector[brand.sector] = [];
                }
                brandsBySector[brand.sector].push({ id: docId, ...brand });
            }

            const sortedSectorKeys = Object.keys(brandsBySector).sort(); // Sort sectors for consistent display

            sortedSectorKeys.forEach(sectorKey => {
                const sectorBrands = brandsBySector[sectorKey];
                const sectorName = appData.admin.sectors[sectorKey]?.name || sectorKey.charAt(0).toUpperCase() + sectorKey.slice(1);

                const sectorSection = document.createElement('div');
                sectorSection.className = 'content-block';
                sectorSection.innerHTML = `
                    <h3 class="text-lg font-bold mb-4">${sectorName} Brands</h3>
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4" id="brand-grid-${sectorKey}"></div>
                `;
                brandDashboardDiv.appendChild(sectorSection);

                const brandGrid = sectorSection.querySelector(`#brand-grid-${sectorKey}`);
                sectorBrands.forEach(brand => {
                    const brandCard = document.createElement('div');
                    brandCard.className = 'bg-gray-100 p-4 rounded-lg shadow-sm';
                    // Display subnodes from Firestore data if available, otherwise fallback to mock data or 'N/A'
                    const subnodesDisplay = brand.subnodes && brand.subnodes.length > 0 ? brand.subnodes.join(', ') : 'N/A';
                    brandCard.innerHTML = `
                        <h4 class="font-semibold text-blue-700">${brand.brandName}</h4>
                        <p class="text-sm text-gray-600 mt-1">Nodes: ${subnodesDisplay}</p>
                        <button class="text-blue-500 text-xs mt-2" onclick="showSmartSnapshot('${brand.sector}', '${brand.brandName}')">View Details</button>
                    `;
                    brandGrid.appendChild(brandCard);
                });
            });
        }

        // showSmartSnapshot (displays brand details in Admin Quick View)
        function showSmartSnapshot(sectorKey, brandName) {
            const snapshotDiv = document.getElementById('adminStatus');
            if (snapshotDiv) {
                const sectorInfo = appData.admin.sectors[sectorKey];
                let content = `<h4 class="font-semibold text-primary-color mb-2">Smart Snapshot for ${brandName} (${sectorInfo?.name || sectorKey})</h4>`;
                content += `<ul class="list-disc list-inside text-sm">`;
                content += `<li><strong>Core Brands (Mock):</strong> ${sectorInfo?.brands ? sectorInfo.brands.join(', ') : 'N/A'}</li>`;
                content += `<li><strong>Nodes (Mock):</strong> ${sectorInfo?.nodes ? sectorInfo.nodes.join(', ') : 'N/A'}</li>`;
                content += `<li><strong>Current Status:</strong> Active, Synced.</li>`;
                content += `<li><strong>Last Sync:</strong> ${new Date().toLocaleString()}</li>`;
                content += `<li><strong>Next Audit:</strong> 2025-07-01</li>`;
                content += `</ul>`;
                snapshotDiv.innerHTML = content;
                snapshotDiv.classList.add('snapshot-box'); // Apply styling
            }
        }

        // setupTechStackInteraction (for Global Dashboard)
        function setupTechStackInteraction() {
            const techPillars = document.querySelectorAll('#admin-global-dashboard .tech-pillar');
            const techStackContent = document.getElementById('tech-stack-content');

            techPillars.forEach(pillar => {
                pillar.addEventListener('click', function() {
                    techPillars.forEach(p => p.classList.remove('active'));
                    this.classList.add('active');

                    const contentKey = this.dataset.content;
                    const details = appData.admin.techStack[contentKey];

                    if (techStackContent && details) {
                        let html = `
                            <h3 class="text-xl font-bold mb-4 flex items-center gap-2">
                                <span class="text-primary-color">${details.icon}</span> ${details.title}
                            </h3>
                            <p class="text-slate-600 mb-4">${details.details}</p>
                            <h4 class="font-semibold text-lg text-slate-700 mb-2">Key Features:</h4>
                            <ul class="list-disc list-inside text-slate-600 space-y-1">
                        `;
                        details.features.forEach(feature => {
                            html += `<li>${feature}</li>`;
                        });
                        html += `</ul>`;
                        techStackContent.innerHTML = html;
                    }
                });
            });
        }

        // populateEcosystemSectorFilter (for Global Dashboard)
        function populateEcosystemSectorFilter() {
            const sectorFilterSelect = document.getElementById('sector-filter');
            if (sectorFilterSelect) {
                sectorFilterSelect.innerHTML = ''; // Clear existing options
                const allSectorsOption = document.createElement('option');
                allSectorsOption.value = "all";
                allSectorsOption.textContent = "All Sectors";
                sectorFilterSelect.appendChild(allSectorsOption);

                // Sort keys alphabetically for consistent display
                const sortedKeys = Object.keys(appData.admin.sectors).sort();
                sortedKeys.forEach(key => {
                    const sector = appData.admin.sectors[key];
                    const option = document.createElement('option');
                    option.value = key;
                    option.textContent = sector.name;
                    sectorFilterSelect.appendChild(option);
                });

                sectorFilterSelect.addEventListener('change', (event) => {
                    displayEcosystemSectorInfo(event.target.value);
                });
            }
        }

        // displayEcosystemSectorInfo (for Global Dashboard)
        function displayEcosystemSectorInfo(selectedSectorKey) {
            const explorerContent = document.getElementById('explorer-content');
            if (!explorerContent) return;

            explorerContent.innerHTML = ''; // Clear previous content

            let sectorsToShow = {};
            if (selectedSectorKey === 'all') {
                sectorsToShow = appData.admin.sectors;
            } else if (appData.admin.sectors[selectedSectorKey]) {
                sectorsToShow[selectedSectorKey] = appData.admin.sectors[selectedSectorKey];
            }

            if (Object.keys(sectorsToShow).length === 0) {
                explorerContent.innerHTML = '<p class="text-slate-500 text-center">No data available for the selected sector.</p>';
                return;
            }

            for (const key in sectorsToShow) {
                const sector = sectorsToShow[key];
                const card = document.createElement('div');
                card.className = 'explorer-brand-card';
                card.innerHTML = `
                    <h4 class="mb-2">${sector.name}</h4>
                    <p class="text-sm"><strong>Brands:</strong> ${sector.brands ? sector.brands.join(', ') : 'N/A'}</p>
                    <p class="text-sm"><strong>Nodes:</strong> ${sector.nodes ? sector.nodes.join(', ') : 'N/A'}</p>
                `;
                explorerContent.appendChild(card);
            }
        }


        // updateSovereignScrollsProgressBar (for Global Dashboard)
        function updateSovereignScrollsProgressBar() {
            const generated = appData.admin.sovereignScrolls.generated;
            const total = appData.admin.sovereignScrolls.total;
            const percentage = ((generated / total) * 100).toFixed(1);

            const progressBar = document.getElementById('progress-bar');
            const pagesGeneratedSpan = document.getElementById('pages-generated');
            const pagesTotalSpan = document.getElementById('pages-total');

            if (progressBar) {
                progressBar.style.width = `${percentage}%`;
                progressBar.textContent = `${percentage}%`;
            }
            if (pagesGeneratedSpan) pagesGeneratedSpan.textContent = `${generated} Generated`;
            if (pagesTotalSpan) pagesTotalSpan.textContent = `${total} Total`;
        }

    </script>

</body>
</html>
